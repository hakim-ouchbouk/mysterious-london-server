{"version":3,"sources":["reducers/userReducer.js","reducers/attractionsReducer.js","reducers/attractionsSearchReducer.js","reducers/AttractionCountReducer.js","reducers/flashMessageReducer.js","reducers/index.js","reducers/addressesReducer.js","history.js","actions/index.js","validation/validateUser.js","components/styledComponents/authPage.js","components/styledComponents/general.js","components/auth/Register.js","validation/validateLogin.js","components/auth/LoginGoogle.js","components/auth/Login.js","components/auth/LogoutGoogle.js","components/styledComponents/header.js","components/Header.js","validation/validateAttration.js","components/styledComponents/createAttraction.js","components/attractions/Create.js","components/styledComponents/attractionsList.js","components/attractions/AttractionsList.js","components/Map.js","components/styledComponents/attractionDetails.js","validation/validateReview.js","components/attractions/AttractionDetails.js","components/attractions/myAttractions.js","components/styledComponents/search.js","components/attractions/Search.js","components/attractions/Edit.js","components/attractions/AttractionsMap.js","styles/GlobalStyles.js","components/App.js","index.js"],"names":["userReducer","state","loggedIn","type","payload","error","attractions","_id","_","mapKeys","omit","attractionsSearchReducer","AttractionCountReducer","count","flashMessageReducer","data","combineReducers","user","attractionsSearchResults","attractionsSearch","addresses","attractionsCount","flashMessage","createHistory","require","createBrowserHistory","instance","axios","create","baseURL","withCredentials","dispatchMessage","dispatch","setTimeout","logout","a","post","getAttraction","id","get","getAllAttractions","getUserAttractions","first","second","third","beenThere","wantToVisit","list","isLoggedIn","getAdresses","term","process","suggestions","googleAuth","token","history","action","goBack","push","validateUsername","Joi","object","username","string","pattern","RegExp","message","min","max","required","validateEmail","email","tlds","allow","validatePassword","password","Container","styled","div","Input","input","Label","label","Button","button","GoogleButton","Title","h1","CenterText","Error","p","FlashError","MainContainer","Register","usernameError","passwordError","emailError","usernameChange","e","setState","target","value","passwordChange","emailChange","handleSubmit","preventDefault","validate","details","props","register","this","onSubmit","htmlFor","onChange","name","onBlur","console","log","React","Component","connect","creds","text","render","renderProps","onClick","clientId","buttonText","onSuccess","res","tokenId","onFailure","cookiePolicy","style","marginTop","Login","login","LoginGoogle","onLogoutSuccess","Brand","NavItem","Header","renderGoogleLogout","oauth","LogoutGoogle","Navbar","sticky","bg","expand","as","Link","to","Toggle","color","Collapse","Nav","className","validateName","validateDescription","description","validateLocation","location","TextArea","textarea","Select","select","FlashMessage","Create","onNameChange","onDescriptionChange","onTermChange","debounce","length","locationError","onLocationChange","onImageChange","images","files","imagesError","nameError","descriptionError","address","createAttraction","renderAdressDropdown","map","i","autoComplete","encType","backgroundColor","multiple","renderForm","values","fd","FormData","append","image","AttractionCard","figure","CardContent","AttractionImg","img","CenterButton","AttractionsList","buttonVisibilty","renderAttractions","src","url","alt","substring","renderGetAllButton","visibility","getAttractions","getAttractionCount","Marker","height","width","Map","geocode","bootstrapURLKeys","key","defaultCenter","defaultZoom","lat","lng","Btn","Flag","IoFlagSharp","Star","IoStarSharp","List","IoListSharp","ImgsWrapper","ImgsContainer","Img","LeftBtn","IoArrowBackSharp","RightBtn","IoArrowForwardSharp","BodyContainer","SmallContainer","Description","MapContainer","AddReview","ReviewButton","Stars","Face","IoHappySharp","Author","DeleteButton","Reviews","Review","Delete","Edit","LoginButton","RegisterButton","Rating","RatingsNumber","schema","content","AttractionDetails","renderReviews","attraction","reviews","stars","author","deleteAttrationReview","attractionId","reviewId","rating","starDimension","starSpacing","starRatedColor","changeRating","renderAddReview","reviewError","validateReview","review","addAttractionReview","method","numberOfStars","starHoverColor","cols","rows","renderDeleteButton","addedBy","variant","deleteAttraction","renderEditButton","isOnList","some","renderAddToListButton","removeFromList","addToList","renderButtons","visited","addToWantToVisit","addToBeenThere","renderImages","public_id","sideScroll","element","speed","distance","step","scrollAmount","slideTimer","setInterval","scrollLeft","Math","abs","clearInterval","renderScroll","container","clientWidth","scrollWidth","renderAttraction","averageRating","imgsContainer","current","ref","createRef","match","params","ownProps","delete","MyAttractions","fontSize","Search","query","onQueryChange","searchAttractions","placeholder","componentDidMount","deleteImages","editAttraction","index","indexOf","splice","marginRight","marginBottom","opacity","nextProps","prevState","JSON","stringify","put","useState","isShown","setIsShown","zIndex","setZIndex","position","transform","onMouseOver","onMouseLeave","AttractionsMap","renderMarkers","GlobalStyles","createGlobalStyle","App","exact","path","component","myAttractions","config","persistConfig","storage","whitelist","persistedReducer","persistReducer","reducers","store","createStore","applyMiddleware","thunk","persistor","persistStore","ReactDOM","loading","document","getElementById"],"mappings":"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","file":"static/js/main.e9e95436.chunk.js","sourcesContent":["function userReducer(state = { loggedIn: false }, { type, payload }) {\r\n  switch (type) {\r\n    case \"REGISTER\":\r\n      return { ...payload, loggedIn: true };\r\n    case \"LOG_IN\":\r\n      return { ...payload, loggedIn: true };\r\n    case \"LOG_OUT\":\r\n      return { loggedIn: false };\r\n    case \"UPDATE_USER_LIST\":\r\n      return { ...state, ...payload };\r\n\r\n    case \"ERROR\":\r\n      return { error: payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default userReducer;\r\n","import _ from \"lodash\";\r\n\r\nfunction attractions(state = {}, { type, payload }) {\r\n  switch (type) {\r\n    case \"CREAT_ATTRACTION\":\r\n      return { ...state, [payload._id]: payload };\r\n    case \"GET_ATTRACTIONS\":\r\n      return { ...state, ..._.mapKeys(payload, \"_id\") };\r\n    case \"GET_ATTRACTION\":\r\n      return { ...state, [payload._id]: payload };\r\n    case \"DELETE_ATTRACTION\":\r\n      return _.omit(state, payload._id);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default attractions;\r\n","import _ from \"lodash\";\r\n\r\nfunction attractionsSearchReducer(state = {}, { type, payload }) {\r\n  switch (type) {\r\n    case \"ATTRACTIONS_SEARCH_RESULTS\":\r\n      return { ..._.mapKeys(payload, \"_id\") };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default attractionsSearchReducer;\r\n","function AttractionCountReducer(state = { count: 0 }, { type, payload }) {\r\n  switch (type) {\r\n    case \"GET_ATTRACTION_COUNT\":\r\n      return { count: payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default AttractionCountReducer;\r\n","function flashMessageReducer(state = \"\", { type, payload }) {\r\n  switch (type) {\r\n    case \"FLASH_MESSAGE\":\r\n      return { data: payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default flashMessageReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport user from \"./userReducer\";\r\nimport attractions from \"./attractionsReducer\";\r\nimport attractionsSearch from \"./attractionsSearchReducer\";\r\nimport addresses from \"./addressesReducer\";\r\nimport AttractionCountReducer from \"./AttractionCountReducer\";\r\nimport flashMessageReducer from \"./flashMessageReducer\";\r\n\r\nexport default combineReducers({\r\n  user,\r\n  attractions,\r\n  attractionsSearchResults: attractionsSearch,\r\n  addresses,\r\n  attractionsCount: AttractionCountReducer,\r\n  flashMessage: flashMessageReducer,\r\n});\r\n","export default function addressReducer(state = [], { type, payload }) {\r\n  switch (type) {\r\n    case \"GET_ADDRESSES\":\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const createHistory = require('history').createBrowserHistory();\r\n\r\nexport default createHistory; ","import history from \"../history\";\r\nimport axios from \"axios\";\r\n\r\n// let dockerUrl = 'http://host.docker.internal:3001';\r\n// let url =  \"http://localhost:3001\";\r\n\r\nlet instance = axios.create({\r\n  baseURL: '/api', \r\n  withCredentials: true,\r\n});\r\n\r\nfunction dispatchMessage(dispatch, { type, payload }) {\r\n  dispatch({ type, payload });\r\n\r\n  setTimeout(() => {\r\n    dispatch({ type, payload: \"\" });\r\n  }, 3000);\r\n}\r\n\r\nexport const register = (creds) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\"/register\", creds);\r\n\r\n      if (data.username) {\r\n        dispatch({ type: \"REGISTER\", payload: data });\r\n        if (history.action !== \"POP\") history.goBack();\r\n        else history.push(\"/\");\r\n      } else {\r\n        dispatchMessage(dispatch, { type: \"ERROR\", payload: data });\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const login = (creds) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\"/login\", creds);\r\n\r\n      if (data.username) {\r\n        dispatch({ type: \"LOG_IN\", payload: data });\r\n        if (history.action !== \"POP\") history.goBack();\r\n        else history.push(\"/\");\r\n      } else {\r\n        dispatchMessage(dispatch, { type: \"ERROR\", payload: data });\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      await instance.post(\"/logout\");\r\n      dispatch({ type: \"LOG_OUT\" });\r\n      dispatchMessage(dispatch, {\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"You are logged out\",\r\n      });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const createAttraction = (values) => {\r\n  let { name, location, description, images } = values;\r\n  let fd = new FormData();\r\n  fd.append(\"name\", name);\r\n  fd.append(\"description\", description);\r\n  fd.append(\"location\", location);\r\n  for (let image of images) {\r\n    fd.append(\"images\", image);\r\n  }\r\n  return (dispatch) => {\r\n    (async () => {\r\n      dispatchMessage(dispatch, {\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"Attraction is being submitted\",\r\n      });\r\n      let { data } = await instance.post(\"/attractions\", fd);\r\n      dispatch({ type: \"CREAT_ATTRACTION\", payload: data });\r\n\r\n      dispatchMessage(dispatch, {\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"Attraction has been created\",\r\n      });\r\n      history.push(`/attractions/${data._id}`);\r\n    })();\r\n  };\r\n};\r\n\r\nexport const editAttraction = (values) => {\r\n  let { name, location, description, images, _id, deleteImages } = values;\r\n  let fd = new FormData();\r\n  fd.append(\"name\", name);\r\n  fd.append(\"description\", description);\r\n  fd.append(\"location\", location);\r\n  fd.append(\"deleteImages\", JSON.stringify(deleteImages));\r\n  if (images) {\r\n    for (let image of images) {\r\n      fd.append(\"images\", image);\r\n    }\r\n  }\r\n  return (dispatch) => {\r\n    (async () => {\r\n      dispatchMessage(dispatch, {\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"The changes are being submitted\",\r\n      });\r\n\r\n      let { data } = await instance.put(`/attractions/${_id}`, fd);\r\n\r\n      dispatch({ type: \"CREAT_ATTRACTION\", payload: data });\r\n\r\n      dispatchMessage(dispatch, {\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"Attraction has been edited\",\r\n      });\r\n\r\n      history.push(`/attractions/${data._id}`);\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAttraction = (id) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(`/attractions/${id}`);\r\n      dispatch({ type: \"GET_ATTRACTION\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAttractions = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(\"/attractions\");\r\n      dispatch({ type: \"GET_ATTRACTIONS\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const searchAttractions = (query) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(`/attractions/search?q=${query}`);\r\n      dispatch({ type: \"ATTRACTIONS_SEARCH_RESULTS\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAllAttractions = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(\"/attractions/all\");\r\n      dispatch({ type: \"GET_ATTRACTIONS\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const deleteAttraction = (id) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.delete(`/attractions/${id}`);\r\n      dispatch({ type: \"DELETE_ATTRACTION\", payload: data });\r\n      dispatch({\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"Attraction has been deleted\",\r\n      });\r\n      setTimeout(() => {\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"\",\r\n        });\r\n      }, 5000);\r\n      history.push(\"/\");\r\n    })();\r\n  };\r\n};\r\n\r\nexport const addAttractionReview = ({ attractionId, content, stars }) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\r\n        `/attractions/${attractionId}/reviews`,\r\n        { content, stars }\r\n      );\r\n      dispatch({ type: \"GET_ATTRACTION\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const deleteAttrationReview = ({ attractionId, reviewId }) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.delete(\r\n        `/attractions/${attractionId}/reviews/${reviewId}`\r\n      );\r\n\r\n      dispatch({ type: \"GET_ATTRACTION\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const addToBeenThere = (attractionId) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\r\n        `/attractions/${attractionId}/beenthere`\r\n      );\r\n      if (data !== \"ALREADY ADDED\") {\r\n        dispatch(getAttraction(attractionId));\r\n        dispatch({ type: \"UPDATE_USER_LIST\", payload: data });\r\n\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"Attraction has been to your list\",\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({\r\n            type: \"FLASH_MESSAGE\",\r\n            payload: \"\",\r\n          });\r\n        }, 5000);\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const addToWantToVisit = (attractionId) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\r\n        `/attractions/${attractionId}/wanttovist`\r\n      );\r\n      if (data !== \"ALREADY ADDED\") {\r\n        dispatch(getAttraction(attractionId));\r\n        dispatch({ type: \"UPDATE_USER_LIST\", payload: data });\r\n\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"Attraction has been added to your list\",\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({\r\n            type: \"FLASH_MESSAGE\",\r\n            payload: \"\",\r\n          });\r\n        }, 5000);\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const addToList = (attractionId) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(`/attractions/${attractionId}/list`);\r\n      if (data !== \"WRONG REQUEST\") {\r\n        dispatch({ type: \"UPDATE_USER_LIST\", payload: data });\r\n\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"Attraction has been added to your list\",\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({\r\n            type: \"FLASH_MESSAGE\",\r\n            payload: \"\",\r\n          });\r\n        }, 5000);\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const removeFromList = (attractionId) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.delete(`/attractions/${attractionId}/list`);\r\n      if (data !== \"WRONG REQUEST\") {\r\n        dispatch({ type: \"UPDATE_USER_LIST\", payload: data });\r\n\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"Attraction has been removed to your list\",\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({\r\n            type: \"FLASH_MESSAGE\",\r\n            payload: \"\",\r\n          });\r\n        }, 5000);\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getUserAttractions = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let first = await instance.get(\"/user/beenthere\");\r\n      let second = await instance.get(\"/user/wanttovist\");\r\n      let third = await instance.get(\"/user/list\");\r\n\r\n      dispatch({\r\n        type: \"UPDATE_USER_LIST\",\r\n        payload: {\r\n          beenThere: first.data,\r\n          wantToVisit: second.data,\r\n          list: third.data,\r\n        },\r\n      });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const isLoggedIn = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(\"/loggedin\");\r\n      if (!data.isLoggedIn) dispatch({ type: \"LOG_OUT\" });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAdresses = (term) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await axios.get(\r\n        `https://api.getaddress.io/autocomplete/${term}?expand=true&api-key=${process.env.REACT_APP_ADDRESS_API_KEY} `\r\n      );\r\n\r\n      dispatch({ type: \"GET_ADDRESSES\", payload: data.suggestions });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const googleAuth = (token) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\"/oauth\", { token });\r\n      dispatch({ type: \"LOG_IN\", payload: data });\r\n      if (history.action !== \"POP\") history.goBack();\r\n      else history.push(\"/\");\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAttractionCount = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(\"/attractions/count\");\r\n\r\n      dispatch({ type: \"GET_ATTRACTION_COUNT\", payload: data.count });\r\n    })();\r\n  };\r\n};\r\n","import Joi from \"joi\";\r\n\r\n\r\nexport const validateUsername = Joi.object({\r\n  username: Joi.string()\r\n    .pattern(new RegExp(\"^[A-Za-z0-9_-]*$\"))\r\n    .message({ \"string.pattern.base\": \"Invalid username\" })\r\n    .min(5)\r\n    .max(30)\r\n    .required(),\r\n});\r\n\r\nexport const validateEmail = Joi.object({\r\n  email: Joi.string()\r\n    .email({ tlds: { allow: false } })\r\n    .required(),\r\n});\r\n\r\nexport const validatePassword = Joi.object({\r\n  password: Joi.string()\r\n    .pattern(new RegExp(\"^[A-Za-z0-9_@./#&+-]*$\"))\r\n    .message({ \"string.pattern.base\": \"Invalid password\" })\r\n    .min(6)\r\n    .max(20)\r\n    .required(),\r\n});\r\n","import styled from \"styled-components\";\r\n\r\n// SPACING SYSTEM (px):\r\n//   2 / 4 / 8 / 12 / 16 / 24 / 32 / 48 / 64 / 80 / 96 / 128\r\n\r\n// FONT SIZE SYSTEM (px):\r\n//   10 / 12 / 14 / 16 / 18 / 20 / 24 / 30 / 36 / 44 / 52 / 62 / 74 / 86 / 98\r\n\r\n//#f76707\r\n//#e9ecef\r\n// #78350F\r\n\r\nexport const Container = styled.div`\r\n  width: 400px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  /* background-color: #e9ecef; */\r\n  padding: 44px 55px;\r\n  /* border-radius: 10px; */\r\n  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.15);\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  width: 100%;\r\n  height: 52px;\r\n  margin: 12px 0;\r\n  /* margin-bottom: 30px; */\r\n  font-family: inherit;\r\n  outline: none;\r\n  border: none;\r\n  padding: 10px;\r\n  font-size: 18px;\r\n  background-color: #f3f4f6;\r\n  border: ${({ error }) => (error ? \"1px solid red\" : \"none\")};\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  color: #212529;\r\n  font-size: 20px;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  width: 100%;\r\n  height: 52px;\r\n  color: white;\r\n  background-color: #065f46;\r\n  border: none;\r\n  font-size: 25px;\r\n  transition: all 300ms;\r\n  margin-top: 18px;\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\n\r\nexport const GoogleButton = styled.button`\r\n  width: 100%;\r\n  height: 52px;\r\n  color: white;\r\n  margin-top: 20px;\r\n  background-color: #de5246;\r\n  border: none;\r\n  font-size: 25px;\r\n  transition: all 300ms;\r\n  &:hover {\r\n    background-color: #b91c1c;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  position: relative;\r\n  font-size: 42px;\r\n  color: #212529;\r\n  margin: 86px 0 60px 0;\r\n`;\r\n\r\nexport const CenterText = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nexport const Error = styled.p`\r\n  color: red;\r\n  font-size: 16px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nexport const FlashError = styled.p`\r\n  position: absolute;\r\n  color: red;\r\n  font-size: 18px;\r\n  right:50%;\r\n  transform: translate(50% ,20px);\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const MainContainer = styled.div`\r\n  width: 80%;\r\n  margin: 0 auto 70px auto;\r\n`;\r\n\r\n\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { register } from \"../../actions\";\r\nimport {\r\n  validateUsername,\r\n  validateEmail,\r\n  validatePassword,\r\n} from \"../../validation/validateUser\";\r\nimport history from \"../../history\";\r\nimport {\r\n  Container,\r\n  Title,\r\n  Input,\r\n  Label,\r\n  Button,\r\n  CenterText,\r\n  Error,\r\n  FlashError,\r\n} from \"../styledComponents/authPage\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\n\r\nclass Register extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    email: \"\",\r\n    usernameError: \"\",\r\n    passwordError: \"\",\r\n    emailError: \"\",\r\n  };\r\n\r\n  usernameChange = (e) => {\r\n    this.setState({ username: e.target.value });\r\n  };\r\n\r\n  passwordChange = (e) => {\r\n    this.setState({ password: e.target.value });\r\n  };\r\n\r\n  emailChange = (e) => {\r\n    this.setState({ email: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    let usernameError = validateUsername.validate({\r\n      username: this.state.username,\r\n    }).error;\r\n\r\n    if (usernameError)\r\n      this.setState({ usernameError: usernameError.details[0].message });\r\n\r\n    let passwordError = validatePassword.validate({\r\n      password: this.state.password,\r\n    }).error;\r\n\r\n    if (passwordError)\r\n      this.setState({ passwordError: passwordError.details[0].message });\r\n\r\n    let emailError = validateEmail.validate({\r\n      email: this.state.email,\r\n    }).error;\r\n\r\n    if (emailError)\r\n      this.setState({ emailError: emailError.details[0].message });\r\n\r\n    if (!usernameError && !passwordError && !emailError) {\r\n      this.props.register(this.state);\r\n    }\r\n  };\r\n\r\n\r\n  render() {\r\n    if (this.props.user && this.props.user.loggedIn) history.push(\"/\");\r\n\r\n    return (\r\n      <MainContainer>\r\n        <CenterText>\r\n          <Title>Register\r\n          {this.props.user.error && <FlashError>{this.props.user.error}</FlashError>}\r\n\r\n          </Title>\r\n          \r\n        </CenterText>\r\n\r\n        <Container>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div>\r\n              <Label htmlFor=\"username\">Email</Label>\r\n              <Input\r\n                value={this.state.email}\r\n                onChange={this.emailChange}\r\n                name=\"email\"\r\n                type=\"text\"\r\n                error={this.state.emailError}\r\n                onBlur={(e) => {\r\n                  if (validateEmail.validate({ email: e.target.value }).error) {\r\n                    this.setState({\r\n                      emailError: validateEmail.validate({\r\n                        email: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ emailError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.emailError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"username\">Username</Label>\r\n              <Input\r\n                value={this.state.username}\r\n                onChange={this.usernameChange}\r\n                name=\"username\"\r\n                type=\"text\"\r\n                error={this.state.usernameError}\r\n                onBlur={(e) => {\r\n                  if (\r\n                    validateUsername.validate({ username: e.target.value })\r\n                      .error\r\n                  ) {\r\n                    this.setState({\r\n                      usernameError: validateUsername.validate({\r\n                        username: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ usernameError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.usernameError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"password\">Password</Label>\r\n              <Input\r\n                value={this.state.password}\r\n                onChange={this.passwordChange}\r\n                name=\"password\"\r\n                type=\"password\"\r\n                error={this.state.passwordError}\r\n                onBlur={(e) => {\r\n                  if (\r\n                    validatePassword.validate({ password: e.target.value })\r\n                      .error\r\n                  ) {\r\n                    console.log();\r\n                    this.setState({\r\n                      passwordError: validatePassword.validate({\r\n                        password: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ passwordError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.passwordError}</Error>\r\n            </div>\r\n            <Button type=\"submit\">Register</Button>\r\n          </form>\r\n        </Container>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ user }) => {\r\n    return { user };\r\n  },\r\n  { register }\r\n)(Register);\r\n","import Joi from \"joi\";\r\n\r\nexport const validateUsername = Joi.object({\r\n  username: Joi.string()\r\n    .pattern(new RegExp(\"^[A-Za-z0-9_-]*$\"))\r\n    .message({ \"string.pattern.base\": \"Invalid username\" })\r\n    .min(5)\r\n    .max(30)\r\n    .required(),\r\n});\r\n\r\nexport const validatePassword = Joi.object({\r\n  password: Joi.string()\r\n    .pattern(new RegExp(\"^[A-Za-z0-9_@./#&+-]*$\"))\r\n    .message({ \"string.pattern.base\": \"Invalid password\" })\r\n    // .min(6)\r\n    .max(20)\r\n    .required(),\r\n});\r\n","import React from \"react\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport { connect } from \"react-redux\";\r\nimport { googleAuth } from \"../../actions\";\r\n\r\nfunction Login({ googleAuth,text }) {\r\n  const onSuccess = (res) => {\r\n    googleAuth(res.tokenId);\r\n  };\r\n\r\n  const onFailure = (res) => {\r\n    console.log(\"LOGGIN FAILED\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <GoogleLogin\r\n        render={(renderProps) => (\r\n          <span onClick={renderProps.onClick}>\r\n           {text}\r\n          </span>\r\n        )}\r\n        clientId={process.env.REACT_APP_CLIENT_ID}\r\n        buttonText=\"Login\"\r\n        onSuccess={onSuccess}\r\n        onFailure={onFailure}\r\n        cookiePolicy={\"single_host_origin\"}\r\n        style={{ marginTop: \"100px\" }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null, { googleAuth })(Login);\r\n","import React from \"react\";\r\nimport { login } from \"../../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport history from \"../../history\";\r\nimport {\r\n  validatePassword,\r\n  validateUsername,\r\n} from \"../../validation/validateLogin\";\r\n\r\nimport {\r\n  Container,\r\n  Title,\r\n  Input,\r\n  Label,\r\n  Button,\r\n  CenterText,\r\n  GoogleButton,\r\n  Error,\r\n  FlashError,\r\n} from \"../styledComponents/authPage\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport LoginGoogle from \"./LoginGoogle\";\r\nimport { IoLogoGoogle } from \"react-icons/io5\";\r\n\r\nclass Login extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    usernameError: \"\",\r\n    passwordError: \"\",\r\n  };\r\n\r\n  usernameChange = (e) => {\r\n    this.setState({ username: e.target.value });\r\n  };\r\n\r\n  passwordChange = (e) => {\r\n    this.setState({ password: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    let usernameError = validateUsername.validate({\r\n      username: this.state.username,\r\n    }).error;\r\n\r\n    if (usernameError)\r\n      this.setState({ usernameError: usernameError.details[0].message });\r\n\r\n    let passwordError = validatePassword.validate({\r\n      password: this.state.password,\r\n    }).error;\r\n\r\n    if (passwordError)\r\n      this.setState({ passwordError: passwordError.details[0].message });\r\n\r\n    if (!usernameError && !passwordError) {\r\n      this.props.login(this.state);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.props.user && this.props.user.loggedIn) history.push(\"/\");\r\n    return (\r\n      <MainContainer>\r\n        <CenterText>\r\n          <Title>\r\n            Login\r\n            {this.props.user.error && <FlashError>{this.props.user.error}</FlashError>}\r\n          </Title>\r\n        </CenterText>\r\n        <Container>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div>\r\n              <Label htmlFor=\"username\">Username</Label>\r\n              <Input\r\n                error={this.state.usernameError}\r\n                value={this.state.username}\r\n                onChange={this.usernameChange}\r\n                name=\"username\"\r\n                type=\"text\"\r\n                onBlur={(e) => {\r\n                  if (\r\n                    validateUsername.validate({ username: e.target.value })\r\n                      .error\r\n                  ) {\r\n                    this.setState({\r\n                      usernameError: validateUsername.validate({\r\n                        username: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ usernameError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.usernameError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"password\">Password</Label>\r\n              <Input\r\n                error={this.state.passwordError}\r\n                value={this.state.password}\r\n                onChange={this.passwordChange}\r\n                name=\"password\"\r\n                type=\"password\"\r\n                onBlur={(e) => {\r\n                  if (\r\n                    validatePassword.validate({ password: e.target.value })\r\n                      .error\r\n                  ) {\r\n                    console.log();\r\n                    this.setState({\r\n                      passwordError: validatePassword.validate({\r\n                        password: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ passwordError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.passwordError}</Error>\r\n            </div>\r\n            <Button type=\"submit\">Login</Button>\r\n\r\n            <CenterText style={{ marginTop: \"15px\" }}>Or</CenterText>\r\n\r\n            <LoginGoogle\r\n              text={\r\n                <GoogleButton>\r\n                  Login with <IoLogoGoogle />\r\n                </GoogleButton>\r\n              }\r\n            />\r\n          </form>\r\n        </Container>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ user }) => {\r\n    return { user };\r\n  },\r\n  { login }\r\n)(Login);\r\n","import React from \"react\";\r\nimport { GoogleLogout } from \"react-google-login\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../actions\";\r\n\r\nfunction Logout({ logout }) {\r\n  const onSuccess = () => {\r\n    logout();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <GoogleLogout\r\n        render={(renderProps) => (\r\n          <span onClick={renderProps.onClick}>\r\n             Logout\r\n          </span>\r\n        )}\r\n        clientId={process.env.REACT_APP_CLIENT_ID}\r\n        buttonText=\"Logout\"\r\n        onLogoutSuccess={onSuccess}\r\n      ></GoogleLogout>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null, { logout })(Logout);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Brand = styled.p`\r\n  color: #065f46;\r\n  padding: 0;\r\n  margin: 0;\r\n  text-transform: uppercase;\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n`;\r\n\r\nexport const NavItem = styled.p`\r\n  color: #065f46;\r\n  padding: 0;\r\n  margin: 0;\r\n  text-transform: uppercase;\r\n  font-size: 20px;\r\n`;\r\n\r\n\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\r\nimport { logout, googleAuth } from \"../actions\";\r\n\r\nimport LogoutGoogle from \"./auth/LogoutGoogle\";\r\nimport { Brand, NavItem } from \"./styledComponents/header\";\r\n\r\nclass Header extends React.Component {\r\n  renderGoogleLogout = () => {\r\n    if (!this.props.user.loggedIn || !this.props.user.oauth) return \"\";\r\n    return <LogoutGoogle />;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Navbar sticky=\"top\" bg=\"light\" expand=\"lg\">\r\n        <Container>\r\n          <Navbar.Brand as={Link} to=\"/\">\r\n            <Brand>Arcane London</Brand>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle color='red' aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"me-auto\">\r\n              <Nav.Link as={Link} to=\"/\">\r\n                <NavItem>Attractions</NavItem>\r\n              </Nav.Link>\r\n              <Nav.Link as={Link} to=\"/attractions/map\">\r\n                <NavItem>Map</NavItem>\r\n              </Nav.Link>\r\n\r\n              {this.props.user.loggedIn && (\r\n                <Nav.Link as={Link} to=\"/create\">\r\n                  <NavItem>Add Attraction</NavItem>\r\n                </Nav.Link>\r\n              )}\r\n              {this.props.user.loggedIn && (\r\n                <Nav.Link as={Link} to=\"/myattractions\">\r\n                  <NavItem>Lists</NavItem>\r\n                </Nav.Link>\r\n              )}\r\n              <Nav.Link as={Link} to=\"/attractions/search\">\r\n                <NavItem>Search</NavItem>\r\n              </Nav.Link>\r\n              {!this.props.user.loggedIn && (\r\n                <Nav.Link as={Link} to=\"/register\">\r\n                  <NavItem>Register</NavItem>\r\n                </Nav.Link>\r\n              )}\r\n              {this.props.user.loggedIn && !this.props.user.oauth && (\r\n                <Nav.Link\r\n                  onClick={() => {\r\n                    this.props.logout();\r\n                  }}\r\n                >\r\n                  <NavItem>Logout</NavItem>\r\n                </Nav.Link>\r\n              )}\r\n              {!this.props.user.loggedIn && (\r\n                <Nav.Link as={Link} to=\"/login\">\r\n                  <NavItem>Login</NavItem>\r\n                </Nav.Link>\r\n              )}\r\n\r\n              {this.props.user.loggedIn && this.props.user.oauth && (\r\n                <Nav.Link>\r\n                  <NavItem>\r\n                    <LogoutGoogle />\r\n                  </NavItem>\r\n                </Nav.Link>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ user }) => {\r\n    return { user };\r\n  },\r\n  { logout, googleAuth }\r\n)(Header);\r\n","import Joi from \"joi\";\r\n\r\nexport const validateName = Joi.object({\r\n  name: Joi.string().min(3).max(50).required(),\r\n});\r\n\r\nexport const validateDescription = Joi.object({\r\n  description: Joi.string().min(20).required(),\r\n});\r\n\r\nexport const validateLocation = Joi.object({\r\n  location: Joi.string().required(),\r\n});\r\n\r\n","import styled from \"styled-components\";\r\n\r\n// SPACING SYSTEM (px):\r\n//   2 / 4 / 8 / 12 / 16 / 24 / 32 / 48 / 64 / 80 / 96 / 128\r\n\r\n// FONT SIZE SYSTEM (px):\r\n//   10 / 12 / 14 / 16 / 18 / 20 / 24 / 30 / 36 / 44 / 52 / 62 / 74 / 86 / 98\r\n\r\n//#e9ecef\r\n// #065f46\r\n\r\nexport const Container = styled.div`\r\n  width: 600px;\r\n  margin: 0 auto;\r\n  margin-top: 48px;\r\n  display: flex;\r\n  justify-content: center;\r\n  /* background-color: #e9ecef; */\r\n  padding: 44px 55px;\r\n  /* border-radius: 10px; */\r\n  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.15);\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  width: 100%;\r\n  height: 52px;\r\n  margin: 12px 0;\r\n  font-family: sans-serif;\r\n  outline: none;\r\n  border: none;\r\n  padding: 10px;\r\n  font-size: 18px;\r\n  background-color: #f3f4f6;\r\n  border: ${({ error }) => (error ? \"1px solid red\" : \"none\")};\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  color: #212529;\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  width: 100%;\r\n  height: 52px;\r\n  color: white;\r\n  background-color: #065f46;\r\n  border: none;\r\n  font-size: 25px;\r\n  transition: all 300ms;\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  position: relative;\r\n  font-size: 42px;\r\n  color: #212529;\r\n  margin: 42px 0 92px 0;\r\n`;\r\n\r\nexport const CenterText = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nexport const TextArea = styled.textarea`\r\n  width: 100%;\r\n  height: 100px;\r\n  border: none;\r\n  outline: none;\r\n  margin: 12px 0;\r\n  padding: 12px;\r\n  line-height: 1.3;\r\n  background-color: #f3f4f6;\r\n  border: ${({ error }) => (error ? \"1px solid red\" : \"none\")};\r\n`;\r\n\r\nexport const Select = styled.select`\r\n  width: 100%;\r\n  height: 52px;\r\n  border: none;\r\n  outline: none;\r\n  margin-bottom: 30px;\r\n  padding: 12px;\r\n  background-color: #f3f4f6;\r\n`;\r\n\r\nexport const FlashMessage = styled.p`\r\n  position: absolute;\r\n  font-size: 25px;\r\n  color: #064e3b;\r\n  background-color: #d1fae5;\r\n  border-radius: 10px;\r\n  right: 50%;\r\n  transform: translate(50%, 20px);\r\n  padding: 12px;\r\n  border-radius: 10px;\r\n  margin-bottom: 30px;\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport history from \"../../history\";\r\nimport { createAttraction, getAdresses, isLoggedIn } from \"../../actions\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  validateName,\r\n  validateDescription,\r\n  validateLocation,\r\n} from \"../../validation/validateAttration\";\r\nimport {\r\n  Input,\r\n  Label,\r\n  Container,\r\n  Button,\r\n  TextArea,\r\n  Select,\r\n  CenterText,\r\n  Title,\r\n  FlashMessage,\r\n} from \"../styledComponents/createAttraction\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport { Error } from \"../styledComponents/authPage\";\r\n\r\nclass Create extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      description: \"\",\r\n      location: \"\",\r\n      images: null,\r\n      term: \"\",\r\n      nameError: \"\",\r\n      descriptionError: \"\",\r\n      locationError: \"\",\r\n      imagesError: \"\",\r\n    };\r\n  }\r\n\r\n  onNameChange = (e) => {\r\n    this.setState({ name: e.target.value });\r\n  };\r\n\r\n  onDescriptionChange = (e) => {\r\n    this.setState({ description: e.target.value });\r\n  };\r\n\r\n  onTermChange = (e) => {\r\n    this.setState({ term: e.target.value });\r\n\r\n    _.debounce(() => {\r\n      this.props.getAdresses(this.state.term);\r\n      if (this.props.addresses.length === 0) {\r\n        this.setState({ locationError: \"It must be a valid UK address\" });\r\n      } else {\r\n        this.setState({ locationError: \"\" });\r\n      }\r\n    }, 500)();\r\n  };\r\n\r\n  onLocationChange = (e) => {\r\n    this.setState({ location: e.target.value });\r\n  };\r\n\r\n  onImageChange = (e) => {\r\n    this.setState({ images: e.target.files });\r\n    this.setState({\r\n      imagesError: \"\",\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let nameError = validateName.validate({\r\n      name: this.state.name,\r\n    }).error;\r\n\r\n    if (nameError) {\r\n      this.setState({\r\n        nameError: nameError.details[0].message,\r\n      });\r\n    }\r\n\r\n    let descriptionError = validateDescription.validate({\r\n      description: this.state.description,\r\n    }).error;\r\n\r\n    if (descriptionError) {\r\n      this.setState({\r\n        descriptionError: descriptionError.details[0].message,\r\n      });\r\n    }\r\n\r\n    let addresses = this.props.addresses;\r\n\r\n    if (addresses.length > 0 && this.state.location === \"\") {\r\n      this.setState({ location: addresses[0].address });\r\n    }\r\n    let locationError = validateLocation.validate({\r\n      location: this.state.location || addresses[0].address,\r\n    }).error;\r\n\r\n    if (locationError) {\r\n      this.setState({\r\n        locationError: locationError.details[0].message,\r\n      });\r\n    }\r\n\r\n    let imagesError = !this.state.images\r\n      ? \"You must upload at least one image\"\r\n      : \"\";\r\n\r\n    if (imagesError) {\r\n      this.setState({ imagesError });\r\n    }\r\n\r\n    if (!nameError && !locationError && !descriptionError && !imagesError) {\r\n      this.props.createAttraction(this.state);\r\n      this.setState({ location: \"\" });\r\n    }\r\n  };\r\n\r\n  renderAdressDropdown = () => {\r\n    let addresses = this.props.addresses;\r\n    return (\r\n      <Select onClick={this.onLocationChange}>\r\n        {addresses.map(({ address }, i) => {\r\n          return (\r\n            <option key={i} value={address}>\r\n              {address}\r\n            </option>\r\n          );\r\n        })}\r\n      </Select>\r\n    );\r\n  };\r\n\r\n  renderForm() {\r\n    if (!this.props.user.loggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n    return (\r\n      <div>\r\n        <CenterText>\r\n          <Title>\r\n            Add Attraction\r\n            {this.props.message && (\r\n              <FlashMessage>{this.props.message}</FlashMessage>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n        <Container>\r\n          <form\r\n            autoComplete=\"off\"\r\n            onSubmit={this.handleSubmit}\r\n            encType=\"multipart/form-data\"\r\n          >\r\n            <div>\r\n              <Label htmlFor=\"name\">Name</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                onChange={this.onNameChange}\r\n                value={this.state.name}\r\n                error={this.state.nameError}\r\n                onBlur={(e) => {\r\n                  let nameError = validateName.validate({\r\n                    name: e.target.value,\r\n                  }).error;\r\n                  if (nameError) {\r\n                    this.setState({\r\n                      nameError: nameError.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ nameError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.nameError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <TextArea\r\n                name=\"description\"\r\n                onChange={this.onDescriptionChange}\r\n                value={this.state.description}\r\n                error={this.state.descriptionError}\r\n                onBlur={(e) => {\r\n                  let descriptionError = validateDescription.validate({\r\n                    description: e.target.value,\r\n                  }).error;\r\n                  if (descriptionError) {\r\n                    this.setState({\r\n                      descriptionError: descriptionError.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ descriptionError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.descriptionError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"location\">Address</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"location\"\r\n                onChange={this.onTermChange}\r\n                value={this.state.term}\r\n                error={this.state.locationError}\r\n                onBlur={(e) => {\r\n                  let locationError = validateLocation.validate({\r\n                    location: e.target.value,\r\n                  }).error;\r\n                  if (locationError) {\r\n                    this.setState({\r\n                      locationError: locationError.details[0].message,\r\n                    });\r\n                  } else if (this.props.addresses.length !== 0) {\r\n                    this.setState({ locationError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.locationError}</Error>\r\n            </div>\r\n            {this.props.addresses.length > 0 && this.renderAdressDropdown()}\r\n            <div>\r\n              <Label htmlFor=\"image\">Upload images</Label>\r\n              <Input\r\n                style={{ backgroundColor: \"white\" }}\r\n                onChange={this.onImageChange}\r\n                type=\"file\"\r\n                name=\"images\"\r\n                multiple\r\n              />\r\n              <Error>{this.state.imagesError}</Error>\r\n            </div>\r\n            <Button type=\"submit\">Add Attraction</Button>\r\n          </form>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return <MainContainer>{this.renderForm()}</MainContainer>;\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ addresses, user, flashMessage }) => {\r\n    return { addresses, user, message: flashMessage.data };\r\n  },\r\n  { createAttraction, getAdresses, isLoggedIn }\r\n)(Create);\r\n","import styled from \"styled-components\";\r\n\r\n// SPACING SYSTEM (px):\r\n//   2 / 4 / 8 / 12 / 16 / 24 / 32 / 48 / 64 / 80 / 96 / 128\r\n\r\n// FONT SIZE SYSTEM (px):\r\n//   10 / 12 / 14 / 16 / 18 / 20 / 24 / 30 / 36 / 44 / 52 / 62 / 74 / 86 / 98\r\n\r\nexport const Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  row-gap: 50px;\r\n  margin-top: 64px;\r\n  width: 90%;\r\n  margin: 0 auto;\r\n  margin-top: 48px;\r\n`;\r\n\r\nexport const AttractionCard = styled.figure`\r\n  width: 300px;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.2);\r\n  /* border-radius: 5px; */\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  align-self: start;\r\n  transition: all 0.3s;\r\n  justify-content: space-between;\r\n  z-index: 10;\r\n  .link {\r\n    text-decoration: none;\r\n  }\r\n\r\n  &:hover {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nexport const CardContent = styled.div`\r\n  padding: 12px;\r\n  font-size: 16px;\r\n  align-self: start;\r\n\r\n  .name {\r\n    text-decoration: none;\r\n    color: #065f46;\r\n    margin-bottom: 12px;\r\n    font-size: 25px;\r\n    font-weight: 500;\r\n  }\r\n  .subtitle {\r\n    font-family: \"Times New Roman\", Times, serif;\r\n    text-transform: lowercase;\r\n    color: black;\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n  }\r\n\r\n  .subtitle::first-letter {\r\n    text-transform: uppercase;\r\n  }\r\n`;\r\n\r\nexport const AttractionImg = styled.img`\r\n  width: 300px;\r\n  height: 200px;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const CenterButton = styled.div`\r\n  width: 300px;\r\n  margin: 24px auto;\r\n`;\r\nexport const Button = styled.button`\r\n  width: 100%;\r\n  /* height: 52px; */\r\n  color: white;\r\n  background-color: #065f46;\r\n  border: none;\r\n  /* border-radius: 10px; */\r\n  font-size: 25px;\r\n  transition: all 300ms;\r\n  padding: 12px 24px;\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  position: relative;\r\n  font-size: 42px;\r\n  color: #212529;\r\n  margin: 40px 0 100px 0;\r\n`;\r\n\r\nexport const CenterText = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nexport const FlashMessage = styled.p`\r\n  position: absolute;\r\n  font-size: 18px;\r\n  color: #064e3b;\r\n  top: 0;\r\n  right: 50%;\r\n  background-color: #d1fae5;\r\n  padding: 12px;\r\n  border-radius: 10px;\r\n  transform: translate(50% ,65px);\r\n\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  Container,\r\n  AttractionCard,\r\n  AttractionImg,\r\n  CardContent,\r\n  CenterButton,\r\n  Button,\r\n  CenterText,\r\n  Title,\r\n  FlashMessage,\r\n} from \"../styledComponents/attractionsList\";\r\n\r\nimport {\r\n  getAttractions,\r\n  getAllAttractions,\r\n  getAttractionCount,\r\n} from \"../../actions\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\n\r\nclass AttractionsList extends React.Component {\r\n  state = {\r\n    buttonVisibilty: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getAttractions();\r\n    this.props.getAttractionCount();\r\n  }\r\n\r\n  renderAttractions = () => {\r\n    if (!this.props.attractions) return \"\";\r\n    return (\r\n      <Container>\r\n        {this.props.attractions.map(({ name, description, _id, images }) => {\r\n          return (\r\n            <AttractionCard key={_id}>\r\n              <Link className=\"link\" to={`/attractions/${_id}`}>\r\n                <AttractionImg src={images[0].url} alt=\"pic\" />\r\n                <CardContent>\r\n                  {<p className=\"name\">{name}</p>}\r\n                  <p className=\"subtitle\">{description.substring(0, 101)}...</p>\r\n                </CardContent>\r\n              </Link>\r\n            </AttractionCard>\r\n          );\r\n        })}\r\n      </Container>\r\n    );\r\n  };\r\n\r\n  renderGetAllButton = () => {\r\n    if (\r\n      !this.props.attractions ||\r\n      this.props.count <= 8 ||\r\n      this.props.attractions.length > 8\r\n    )\r\n      return \"\";\r\n    return (\r\n      <Button\r\n        style={{ visibility: this.state.buttonVisibilty }}\r\n        onClick={() => {\r\n          this.props.getAllAttractions();\r\n          this.setState({ buttonVisibilty: \"hidden\" });\r\n        }}\r\n      >\r\n        See All {this.props.count} Attractions\r\n      </Button>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <MainContainer>\r\n        <CenterText>\r\n          <Title>\r\n            All the places in London\r\n            {this.props.flashMessage && (\r\n              <FlashMessage>{this.props.flashMessage}</FlashMessage>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n        {this.renderAttractions()}\r\n        <br />\r\n        <CenterButton>{this.renderGetAllButton()}</CenterButton>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractions, attractionsCount, flashMessage }) => {\r\n    return {\r\n      attractions: _.values(attractions),\r\n      count: attractionsCount.count,\r\n      flashMessage: flashMessage.data,\r\n    };\r\n  },\r\n  { getAttractions, getAllAttractions, getAttractionCount }\r\n)(AttractionsList);\r\n","import React, { Component } from \"react\";\r\nimport GoogleMapReact from \"google-map-react\";\r\n\r\n\r\n\r\nconst Marker = () => (\r\n  <div>\r\n    <img alt=\"marker\" src=\"/marker.png\" height=\"25px\" width=\"25px\" />\r\n  </div>\r\n);\r\nclass Map extends Component {\r\n  render() {\r\n    if (!this.props.geocode) return \"\";\r\n\r\n    return (\r\n      <div style={{ height: \"400px\", width: \"400px\" }}>\r\n        <GoogleMapReact\r\n          bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_MAPS_API_KEY }}\r\n          defaultCenter={this.props.geocode}\r\n          defaultZoom={11}\r\n        >\r\n          <Marker\r\n            lat={this.props.geocode.lat}\r\n            lng={this.props.geocode.lng}\r\n            \r\n          />\r\n        </GoogleMapReact>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import styled from \"styled-components\";\r\nimport {\r\n  IoFlagSharp,\r\n  IoStarSharp,\r\n  IoListSharp,\r\n  IoArrowBackSharp,\r\n  IoArrowForwardSharp,\r\n  IoHappySharp,\r\n} from \"react-icons/io5\";\r\n\r\n// SPACING SYSTEM (px):\r\n//   2 / 4 / 8 / 12 / 16 / 24 / 32 / 48 / 64 / 80 / 96 / 128\r\n\r\n// FONT SIZE SYSTEM (px):\r\n//   10 / 12 / 14 / 16 / 18 / 20 / 24 / 30 / 36 / 44 / 52 / 62 / 74 / 86 / 98\r\n\r\nexport const Header = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 3fr 1fr;\r\n  row-gap: 48px;\r\n  margin-top: 32px;\r\n  margin-bottom: 48px;\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  font-size: 48px;\r\n  color: #065f46;\r\n  position: relative;\r\n  .location {\r\n    font-size: 30px;\r\n    margin: 10px 0;\r\n  }\r\n`;\r\n\r\nexport const Btn = styled.button`\r\n  padding: 12px;\r\n  border: none;\r\n  background-color: white;\r\n  color: #065f46;\r\n  .number {\r\n    font-size: 24px;\r\n  }\r\n`;\r\n\r\nexport const Flag = styled(IoFlagSharp)`\r\n  color: #065f46;\r\n  font-size: 35px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nexport const Star = styled(IoStarSharp)`\r\n  color: #065f46;\r\n  font-size: 35px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nexport const List = styled(IoListSharp)`\r\n  color: #065f46;\r\n  font-size: 35px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nexport const ImgsWrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nexport const ImgsContainer = styled.div`\r\n  display: flex;\r\n  overflow: hidden;\r\n  gap: 10px;\r\n  margin-bottom: 50px;\r\n  position: relative;\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  height: 400px;\r\n  width: auto;\r\n`;\r\n\r\nexport const LeftBtn = styled(IoArrowBackSharp)`\r\n  position: absolute;\r\n  left: -70px;\r\n  top: 50%;\r\n  z-index: 10;\r\n  cursor: pointer;\r\n  font-size: 50px;\r\n  transform: translate(0, -50%);\r\n  color: #065f46;\r\n`;\r\n\r\nexport const RightBtn = styled(IoArrowForwardSharp)`\r\n  position: absolute;\r\n  right: -70px;\r\n  top: 50%;\r\n  z-index: 10;\r\n  font-size: 50px;\r\n  transform: translate(0, -50%);\r\n  cursor: pointer;\r\n\r\n  color: #065f46;\r\n`;\r\n\r\nexport const BodyContainer = styled.div`\r\n  background-color: #ecfdf5;\r\n`;\r\n\r\nexport const SmallContainer = styled.div`\r\n  width: 80%;\r\n  display: grid;\r\n  grid-template-columns: 2.5fr 1fr;\r\n  /* grid-template-rows: 1fr 1fr; */\r\n  column-gap: 30px;\r\n  padding: 64px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const Description = styled.p`\r\n  font-size: 20px;\r\n  font-family: \"IBM Plex Serif\";\r\n  line-height: 1.5;\r\n  color: #111827;\r\n  margin-bottom: 48px;\r\n  /* word-break: break-all; */\r\n`;\r\n\r\nexport const MapContainer = styled.div`\r\n  justify-self: end;\r\n`;\r\n\r\nexport const AddReview = styled.div`\r\n  width: 70%;\r\n  grid-column: 1 / -1;\r\n  margin-bottom: 48px;\r\n`;\r\n\r\nexport const TextArea = styled.textarea`\r\n  background-color: #f9fafb;\r\n  width: 100%;\r\n  display: block;\r\n  margin-bottom: 12px;\r\n  border: none;\r\n  padding: 12px;\r\n  outline: none;\r\n  border: ${({ error }) => (error ? \"1px solid red\" : \"none\")};\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px #065f46;\r\n  }\r\n`;\r\n\r\nexport const ReviewButton = styled.button`\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: none;\r\n  background-color: #065f46;\r\n  color: #fff;\r\n  transition: all 0.3s;\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\nexport const Stars = styled.div`\r\n  margin: 12px 0;\r\n`;\r\n\r\nexport const Face = styled(IoHappySharp)`\r\n  color: #065f46;\r\n  font-size: 48px;\r\n`;\r\n\r\nexport const Author = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n  .name {\r\n    font-weight: bold;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nexport const DeleteButton = styled.button`\r\n  margin-left: 10px;\r\n  border: none;\r\n  background-color: #065f46;\r\n  padding: 8px 16px;\r\n  color: white;\r\n`;\r\n\r\nexport const Reviews = styled.div`\r\n  .title {\r\n    font-size: 40px;\r\n    margin-bottom: 25px;\r\n  }\r\n`;\r\nexport const Review = styled.div`\r\n  margin-bottom: 48px;\r\n  .content {\r\n    font-size: 20px;\r\n    line-height: 1.3;\r\n  }\r\n`;\r\n\r\nexport const Delete = styled.button`\r\n  background-color: #f87171;\r\n  border: none;\r\n  padding: 8px 16px;\r\n  color: black;\r\n`;\r\n\r\nexport const Edit = styled.button`\r\n  background-color: #fde68a;\r\n  border: none;\r\n  padding: 8px 16px;\r\n  margin-right: 20px;\r\n  .link {\r\n    text-decoration: none;\r\n    color: black;\r\n  }\r\n`;\r\n\r\nexport const Label = styled.p`\r\n  font-size: 25px;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const LoginButton = styled.button`\r\n  padding: 12px;\r\n  border: none;\r\n  background-color: #065f46;\r\n  transition: all 0.3s;\r\n  margin-right: 30px;\r\n  margin-left: 10px;\r\n  .link {\r\n    color: #fff;\r\n    text-decoration: none;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\n\r\nexport const RegisterButton = styled.button`\r\n  padding: 12px;\r\n  border: none;\r\n  background-color: #d1fae5;\r\n  transition: all 0.3s;\r\n\r\n  .link {\r\n    color: #064e3b;\r\n    text-decoration: none;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: #a7f3d0;\r\n  }\r\n`;\r\n\r\nexport const FlashMessage = styled.p`\r\n  position: absolute;\r\n  font-size: 25px;\r\n  color: #064e3b;\r\n  top: 10%;\r\n  left: 50%;\r\n  background-color: #d1fae5;\r\n  padding: 12px;\r\n  border-radius: 10px;\r\n`;\r\n\r\nexport const Rating = styled.div`\r\n  margin: 0px 0 15px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n`;\r\n\r\nexport const RatingsNumber = styled.p`\r\n  color: #064e3b;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n`;\r\n","import Joi from \"joi\";\r\n\r\nconst schema = Joi.object({\r\n  content: Joi.string().required(),\r\n});\r\n\r\nexport default schema;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Map from \"../Map\";\r\nimport StarRatings from \"react-star-ratings\";\r\n\r\nimport {\r\n  getAttraction,\r\n  addAttractionReview,\r\n  deleteAttrationReview,\r\n  addToWantToVisit,\r\n  addToBeenThere,\r\n  addToList,\r\n  deleteAttraction,\r\n  getUserAttractions,\r\n  removeFromList,\r\n} from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  AddReview,\r\n  Author,\r\n  BodyContainer,\r\n  Btn,\r\n  Delete,\r\n  DeleteButton,\r\n  Description,\r\n  Edit,\r\n  Face,\r\n  Flag,\r\n  FlashMessage,\r\n  Header,\r\n  Img,\r\n  ImgsContainer,\r\n  ImgsWrapper,\r\n  Label,\r\n  LeftBtn,\r\n  List,\r\n  LoginButton,\r\n  MapContainer,\r\n  Rating,\r\n  RatingsNumber,\r\n  RegisterButton,\r\n  Review,\r\n  ReviewButton,\r\n  Reviews,\r\n  RightBtn,\r\n  SmallContainer,\r\n  Star,\r\n  Stars,\r\n  TextArea,\r\n  Title,\r\n} from \"../styledComponents/attractionDetails\";\r\nimport validateReview from \"../../validation/validateReview\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport history from \"../../history\";\r\nimport { Error } from \"../styledComponents/authPage\";\r\n\r\nclass AttractionDetails extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      review: \"\",\r\n      stars: 0,\r\n      reviewError: \"\",\r\n    };\r\n    this.imgsContainer = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getAttraction(this.props.match.params.id);\r\n    if (this.props.user.loggedIn) this.props.getUserAttractions();\r\n  }\r\n\r\n  renderReviews = () => {\r\n    if (this.props.attraction.reviews.length < 1) return \"\";\r\n\r\n    return (\r\n      <Reviews>\r\n        <h3 className=\"title\">Reviews</h3>\r\n        <ul>\r\n          {this.props.attraction.reviews.map(\r\n            ({ content, _id, stars, author }) => {\r\n              return (\r\n                <Review key={_id}>\r\n                  <Author>\r\n                    <Face />\r\n                    <p className=\"name\">{author.username}</p>\r\n                    {this.props.user.loggedIn &&\r\n                      this.props.user.id === author._id && (\r\n                        <DeleteButton\r\n                          onClick={() => {\r\n                            this.props.deleteAttrationReview({\r\n                              attractionId: this.props.attraction._id,\r\n                              reviewId: _id,\r\n                            });\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </DeleteButton>\r\n                      )}\r\n                  </Author>\r\n\r\n                  <Rating>\r\n                    <StarRatings\r\n                      rating={stars}\r\n                      starDimension=\"16px\"\r\n                      starSpacing=\"5px\"\r\n                      starRatedColor=\"#065f46\"\r\n                    />\r\n                  </Rating>\r\n                  <p className=\"content\">{content}</p>\r\n                </Review>\r\n              );\r\n            }\r\n          )}\r\n        </ul>\r\n      </Reviews>\r\n    );\r\n  };\r\n\r\n  changeRating = (stars) => {\r\n    this.setState({ stars });\r\n  };\r\n\r\n  renderAddReview = () => {\r\n    if (!this.props.user.loggedIn) {\r\n      return (\r\n        <div>\r\n          <Label>Log in or register to leave a review</Label>\r\n\r\n          <LoginButton>\r\n            <Link className=\"link\" to=\"/login\">\r\n              Login\r\n            </Link>\r\n          </LoginButton>\r\n          <RegisterButton>\r\n            <Link className=\"link\" to=\"/register\">\r\n              Register\r\n            </Link>\r\n          </RegisterButton>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let handleSubmitReview = (e) => {\r\n      e.preventDefault();\r\n      let attractionId = this.props.attraction._id;\r\n\r\n      let reviewError = validateReview.validate({\r\n        content: this.state.review,\r\n      }).error;\r\n\r\n      if (!reviewError) {\r\n        this.props.addAttractionReview({\r\n          attractionId,\r\n          content: this.state.review,\r\n          stars: this.state.stars,\r\n        });\r\n        this.setState({ review: \"\", stars: 0 });\r\n        this.setState({ reviewError: \"\" });\r\n      } else {\r\n        this.setState({ reviewError: reviewError.details[0].message });\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <form onSubmit={handleSubmitReview} method=\"post\">\r\n          <div>\r\n            <Label>How was your experience?</Label>\r\n\r\n            <Stars>\r\n              <StarRatings\r\n                rating={this.state.stars}\r\n                starRatedColor=\" #065f46\"\r\n                changeRating={this.changeRating}\r\n                numberOfStars={5}\r\n                name=\"rating\"\r\n                starHoverColor=\" #065f46\"\r\n                starDimension=\"32px\"\r\n              />\r\n            </Stars>\r\n          </div>\r\n          <TextArea\r\n            className=\"text-area\"\r\n            value={this.state.review}\r\n            error={this.state.reviewError}\r\n            onChange={(e) => {\r\n              this.setState({ review: e.target.value });\r\n            }}\r\n            name=\"review\"\r\n            id=\"review\"\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n          ></TextArea>\r\n          <Error>{this.state.reviewError}</Error>\r\n          <ReviewButton type=\"submit\">Add Review</ReviewButton>\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderDeleteButton = () => {\r\n    if (\r\n      !this.props.user ||\r\n      this.props.user.id !== this.props.attraction.addedBy\r\n    )\r\n      return \"\";\r\n    return (\r\n      <Delete\r\n        variant=\"danger\"\r\n        onClick={() => {\r\n          this.props.deleteAttraction(this.props.attraction._id);\r\n        }}\r\n      >\r\n        Delete\r\n      </Delete>\r\n    );\r\n  };\r\n\r\n  renderEditButton = () => {\r\n    if (\r\n      !this.props.user.loggedIn ||\r\n      this.props.user.id !== this.props.attraction.addedBy\r\n    )\r\n      return \"\";\r\n    return (\r\n      <Edit variant=\"warning\">\r\n        <Link\r\n          className=\"link\"\r\n          to={`/attractions/${this.props.attraction._id}/edit`}\r\n        >\r\n          Edit\r\n        </Link>\r\n      </Edit>\r\n    );\r\n  };\r\n\r\n  isOnList = () => {\r\n    if (\r\n      this.props.user.list &&\r\n      this.props.user.list.some(\r\n        (attraction) => attraction._id === this.props.attraction._id\r\n      )\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  renderAddToListButton = (_id) => {\r\n    if (!this.props.user.loggedIn) {\r\n      return (\r\n        <Btn\r\n          onClick={() => {\r\n            this.props.addToList(_id);\r\n          }}\r\n        >\r\n          <List />\r\n          <p>Add to List</p>\r\n        </Btn>\r\n      );\r\n    } else {\r\n      if (this.isOnList()) {\r\n        return (\r\n          <Btn\r\n            onClick={() => {\r\n              this.props.removeFromList(_id);\r\n            }}\r\n          >\r\n            <List />\r\n            <p>Remove </p>\r\n          </Btn>\r\n        );\r\n      } else {\r\n        return (\r\n          <Btn\r\n            onClick={() => {\r\n              this.props.addToList(_id);\r\n            }}\r\n          >\r\n            <List />\r\n            <p>Add to List</p>\r\n          </Btn>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  renderButtons = (_id) => {\r\n    let { visited, wantToVisit } = this.props.attraction;\r\n    return (\r\n      <div\r\n        onClick={() => {\r\n          if (!this.props.user.loggedIn) history.push(\"/login\");\r\n        }}\r\n      >\r\n        <Btn\r\n          onClick={() => {\r\n            this.props.addToWantToVisit(_id);\r\n          }}\r\n        >\r\n          <Star />\r\n          <p>Want to Vist</p>\r\n          <p className=\"number\">{wantToVisit}</p>\r\n        </Btn>\r\n        <Btn\r\n          onClick={() => {\r\n            this.props.addToBeenThere(_id);\r\n          }}\r\n        >\r\n          <Flag />\r\n          <p>Been There</p>\r\n          <p className=\"number\">{visited}</p>\r\n        </Btn>\r\n\r\n        {this.renderAddToListButton(_id)}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderImages = (images) => {\r\n    if (images.length > 0) {\r\n      return images.map(({ url, public_id }, i) => {\r\n        return <Img key={public_id} src={url} alt={public_id} />;\r\n      });\r\n    }\r\n\r\n    return \"\";\r\n  };\r\n  sideScroll = (element, speed, distance, step) => {\r\n    let scrollAmount = 0;\r\n    const slideTimer = setInterval(() => {\r\n      element.scrollLeft += step;\r\n      scrollAmount += Math.abs(step);\r\n      if (scrollAmount >= distance) {\r\n        clearInterval(slideTimer);\r\n      }\r\n    }, speed);\r\n  };\r\n\r\n  renderScroll = (container) => {\r\n    if (!container || container.clientWidth >= container.scrollWidth)\r\n      return false;\r\n\r\n    return true;\r\n  };\r\n\r\n  renderAttraction = () => {\r\n    if (this.props.attraction) {\r\n      let {\r\n        name,\r\n        description,\r\n        images,\r\n        location,\r\n        _id,\r\n        geocode,\r\n        averageRating,\r\n        reviews,\r\n      } = this.props.attraction;\r\n      return (\r\n        <div>\r\n          <MainContainer>\r\n            <Header>\r\n              <div>\r\n                <Title>\r\n                  {name} <p className=\"location\">{location}</p>\r\n                  {this.props.flashMessage && (\r\n                    <FlashMessage>{this.props.flashMessage}</FlashMessage>\r\n                  )}\r\n                </Title>\r\n                <Rating>\r\n                  <StarRatings\r\n                    rating={averageRating}\r\n                    starDimension=\"20px\"\r\n                    starSpacing=\"5px\"\r\n                    starRatedColor=\"#065f46\"\r\n                  />\r\n                  <RatingsNumber>\r\n                    {reviews.length}{\" \"}\r\n                    {`${\r\n                      reviews.length > 1 || reviews.length === 0\r\n                        ? \"ratings\"\r\n                        : \"rating\"\r\n                    }`}\r\n                  </RatingsNumber>\r\n                </Rating>\r\n                {this.renderEditButton(_id)}\r\n                {this.renderDeleteButton()}\r\n              </div>\r\n\r\n              <div>{this.renderButtons(_id)}</div>\r\n            </Header>\r\n\r\n            <ImgsWrapper>\r\n              {this.renderScroll(this.imgsContainer.current) && (\r\n                <LeftBtn\r\n                  onClick={() => {\r\n                    this.sideScroll(this.imgsContainer.current, 7, 300, -10);\r\n                  }}\r\n                ></LeftBtn>\r\n              )}\r\n\r\n              {this.renderScroll(this.imgsContainer.current) && (\r\n                <RightBtn\r\n                  onClick={() => {\r\n                    this.sideScroll(this.imgsContainer.current, 7, 300, 10);\r\n                  }}\r\n                ></RightBtn>\r\n              )}\r\n              <ImgsContainer ref={this.imgsContainer}>\r\n                {this.renderImages(images)}\r\n              </ImgsContainer>\r\n            </ImgsWrapper>\r\n          </MainContainer>\r\n          <BodyContainer>\r\n            <SmallContainer>\r\n              <div>\r\n                <Description>{description}</Description>\r\n              </div>\r\n              <MapContainer>\r\n                <Map geocode={geocode} />\r\n              </MapContainer>\r\n\r\n              <AddReview>{this.renderAddReview()}</AddReview>\r\n              <Reviews>{this.renderReviews()}</Reviews>\r\n            </SmallContainer>\r\n          </BodyContainer>\r\n        </div>\r\n      );\r\n    } else {\r\n      return \"LOADING...\";\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return <div>{this.renderAttraction()}</div>;\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractions, user, flashMessage }, ownProps) => {\r\n    return {\r\n      attraction: attractions[ownProps.match.params.id],\r\n      user,\r\n      flashMessage: flashMessage.data,\r\n    };\r\n  },\r\n  {\r\n    getAttraction,\r\n    addAttractionReview,\r\n    deleteAttrationReview,\r\n    addToWantToVisit,\r\n    addToBeenThere,\r\n    addToList,\r\n    deleteAttraction,\r\n    getUserAttractions,\r\n    removeFromList,\r\n  }\r\n)(AttractionDetails);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getUserAttractions } from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport history from \"../../history\";\r\n\r\nimport {\r\n  Container as ListWrapper,\r\n  AttractionCard,\r\n  AttractionImg,\r\n  CardContent,\r\n  Title,\r\n} from \"../styledComponents/attractionsList\";\r\n\r\nclass MyAttractions extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUserAttractions();\r\n  }\r\n\r\n  renderAttractions = (attractions) => {\r\n    if (!attractions || attractions.length === 0) {\r\n      return <p style={{fontSize:'25px'}}>Nothing yet</p>;\r\n    }\r\n    return (\r\n      <ListWrapper>\r\n        {attractions.map(({ name, description, _id, images }) => {\r\n          return (\r\n            <AttractionCard key={_id}>\r\n              <Link className=\"link\" to={`/attractions/${_id}`}>\r\n                <AttractionImg src={images[0].url} alt=\"pic\" />\r\n                <CardContent>\r\n                  {<p className=\"name\">{name}</p>}\r\n                  <p className=\"subtitle\">{description.substring(0, 101)}...</p>\r\n                </CardContent>\r\n              </Link>\r\n            </AttractionCard>\r\n          );\r\n        })}\r\n      </ListWrapper>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.user.loggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n\r\n    return (\r\n      <MainContainer>\r\n        <Title>Places Where You Want To Go</Title>\r\n        {this.renderAttractions(this.props.user.wantToVisit)}\r\n        <Title>Places Where You've been</Title>\r\n        {this.renderAttractions(this.props.user.beenThere)}\r\n        <Title>Your List </Title>\r\n        {this.renderAttractions(this.props.user.list)}\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ user }) => {\r\n    return { user };\r\n  },\r\n  { getUserAttractions }\r\n)(MyAttractions);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Input = styled.input`\r\n  width: 500px;\r\n  height: 60px;\r\n  margin: 50px auto;\r\n  padding: 12px;\r\n  display: flex;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\r\n\r\n  border: none;\r\n  outline: none;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px #065f46;\r\n  }\r\n  &::placeholder {\r\n    font-weight: 400;\r\n    color: #065f46;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  margin-top: 25px;\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { searchAttractions } from \"../../actions\";\r\nimport {\r\n  Container as ResultsWrapper,\r\n  AttractionCard,\r\n  AttractionImg,\r\n  CardContent,\r\n  CenterText,\r\n} from \"../styledComponents/attractionsList\";\r\n\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport { Input, Title } from \"../styledComponents/search\";\r\n\r\nclass Search extends React.Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  onQueryChange = (e) => {\r\n    this.setState({ query: e.target.value });\r\n    _.debounce(() => {\r\n      this.props.searchAttractions(this.state.query);\r\n    }, 300)();\r\n  };\r\n\r\n  renderAttractions = () => {\r\n    if (!this.props.attractions) return \"\";\r\n    return (\r\n      <ResultsWrapper>\r\n        {this.props.attractions.map(({ name, description, _id, images }) => {\r\n          return (\r\n            <AttractionCard key={_id}>\r\n              <Link className=\"link\" to={`/attractions/${_id}`}>\r\n                <AttractionImg src={images[0].url} alt=\"pic\" />\r\n                <CardContent>\r\n                  {<p className=\"name\">{name}</p>}\r\n                  <p className=\"subtitle\">{description.substring(0, 101)}...</p>\r\n                </CardContent>\r\n              </Link>\r\n            </AttractionCard>\r\n          );\r\n        })}\r\n      </ResultsWrapper>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <MainContainer>\r\n        <CenterText>\r\n          <Title>Search</Title>\r\n        </CenterText>\r\n\r\n        <Input\r\n          onChange={this.onQueryChange}\r\n          value={this.state.query}\r\n          type=\"text\"\r\n          placeholder=\"Search for destinations\"\r\n        />\r\n        <div>{this.renderAttractions()}</div>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractionsSearchResults }) => {\r\n    return { attractions: _.values(attractionsSearchResults) };\r\n  },\r\n  { searchAttractions }\r\n)(Search);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { editAttraction, getAttraction, getAdresses } from \"../../actions\";\r\nimport history from \"../../history\";\r\nimport {\r\n  validateName,\r\n  validateDescription,\r\n  validateLocation,\r\n} from \"../../validation/validateAttration\";\r\nimport {\r\n  Input,\r\n  Label,\r\n  Container,\r\n  Button,\r\n  TextArea,\r\n  Select,\r\n  CenterText,\r\n  Title,\r\n  FlashMessage,\r\n} from \"../styledComponents/createAttraction\";\r\nimport { Error } from \"../styledComponents/authPage\";\r\n\r\nclass Edit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: null,\r\n      description: null,\r\n      location: null,\r\n      images: null,\r\n      deleteImages: [],\r\n      term: \"\",\r\n      nameError: \"\",\r\n      descriptionError: \"\",\r\n      locationError: \"\",\r\n      imagesError: \"\",\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (prevState.name == null && nextProps.attraction) {\r\n      let { name, description, location } = nextProps.attraction;\r\n      return { name, description, location, term: location };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.props.getAttraction(this.props.match.params.id);\r\n  };\r\n  onTermChange = (e) => {\r\n    this.setState({ term: e.target.value });\r\n\r\n    _.debounce(() => {\r\n      this.props.getAdresses(this.state.term);\r\n      console.log(this.props.addresses);\r\n      if (this.props.addresses.length === 0) {\r\n        this.setState({ locationError: \"It must be a valid UK address\" });\r\n      } else {\r\n        this.setState({ locationError: \"\" });\r\n      }\r\n    }, 400)();\r\n  };\r\n\r\n  onNameChange = (e) => {\r\n    this.setState({ name: e.target.value });\r\n  };\r\n\r\n  onDescriptionChange = (e) => {\r\n    this.setState({ description: e.target.value });\r\n  };\r\n\r\n  onLocationChange = (e) => {\r\n    this.setState({ location: e.target.value });\r\n  };\r\n\r\n  onImageChange = (e) => {\r\n    this.setState({ images: e.target.files });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let { _id } = this.props.attraction;\r\n\r\n    let nameError = this.state.nameError;\r\n    let locationError = this.state.locationError;\r\n    let descriptionError = this.state.descriptionError;\r\n\r\n\r\n    if (!nameError && !descriptionError && !locationError) {\r\n      if (\r\n        this.state.deleteImages.length ===\r\n          this.props.attraction.images.length &&\r\n        !this.state.images\r\n      ) {\r\n        this.setState({ imagesError: \"You must upload at least one image\" });\r\n      } else {\r\n        this.props.editAttraction({ ...this.state, _id });\r\n      }\r\n    }\r\n  };\r\n\r\n  renderImages = (images) => {\r\n    if (images) {\r\n      return images.map((image) => {\r\n        return (\r\n          <img\r\n            onClick={() => {\r\n              let deleteImages = [...this.state.deleteImages];\r\n              let index = deleteImages.indexOf(image.public_id);\r\n              if (index < 0) {\r\n                deleteImages.push(image.public_id);\r\n                this.setState({ deleteImages });\r\n              } else {\r\n                deleteImages.splice(index, 1);\r\n                this.setState({ deleteImages });\r\n              }\r\n            }}\r\n            key={image.public_id}\r\n            src={image.url}\r\n            alt={image.public_id}\r\n            style={{\r\n              width: \"150px\",\r\n              height: \"auto\",\r\n              marginRight: \"10px\",\r\n              marginBottom: \"30px\",\r\n              opacity: `${\r\n                this.state.deleteImages.indexOf(image.public_id) < 0\r\n                  ? \"\"\r\n                  : \"0.3\"\r\n              }`,\r\n            }}\r\n          />\r\n        );\r\n      });\r\n    }\r\n\r\n    return \"\";\r\n  };\r\n\r\n  renderAdressDropdown = () => {\r\n    return (\r\n      <Select onClick={this.onLocationChange}>\r\n        {this.props.addresses.map(({ address }, i) => {\r\n          return (\r\n            <option key={i} value={address}>\r\n              {address}\r\n            </option>\r\n          );\r\n        })}\r\n      </Select>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.user.loggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n\r\n    if (!this.props.attraction) return \"loading...\";\r\n\r\n    return (\r\n      <div>\r\n        <CenterText>\r\n          <Title>\r\n            Edit Attraction\r\n            {this.props.message && (\r\n              <FlashMessage>{this.props.message}</FlashMessage>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n        <Container style={{ width: \"50%\", marginBottom: \"50px\" }}>\r\n          <form onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\r\n            <div>\r\n              <Label style={{ marginBottom: \"20px\" }}>\r\n                Select To Delete Images:\r\n              </Label>\r\n              <div>\r\n                {this.props.attraction &&\r\n                  this.renderImages(this.props.attraction.images)}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"name\">Name</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                onChange={this.onNameChange}\r\n                value={this.state.name}\r\n                error={this.state.nameError}\r\n                onBlur={(e) => {\r\n                  let nameError = validateName.validate({\r\n                    name: e.target.value,\r\n                  }).error;\r\n                  if (nameError) {\r\n                    this.setState({\r\n                      nameError: nameError.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ nameError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.nameError}</Error>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <TextArea\r\n                name=\"description\"\r\n                onChange={this.onDescriptionChange}\r\n                value={this.state.description}\r\n                error={this.state.descriptionError}\r\n                onBlur={(e) => {\r\n                  let descriptionError = validateDescription.validate({\r\n                    description: e.target.value,\r\n                  }).error;\r\n                  if (descriptionError) {\r\n                    this.setState({\r\n                      descriptionError: descriptionError.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ descriptionError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.descriptionError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"location\">Address</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"location\"\r\n                onChange={this.onTermChange}\r\n                value={this.state.term}\r\n                error={this.state.locationError}\r\n                onBlur={(e) => {\r\n                  let locationError = validateLocation.validate({\r\n                    location: e.target.value,\r\n                  }).error;\r\n                  if (locationError) {\r\n                    this.setState({\r\n                      locationError: locationError.details[0].message,\r\n                    });\r\n                  } else if (this.props.addresses.length !== 0) {\r\n                    this.setState({ locationError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.locationError}</Error>\r\n            </div>\r\n            {this.props.addresses.length > 0 && this.renderAdressDropdown()}\r\n\r\n            <div>\r\n              <Label htmlFor=\"image\">Upload images</Label>\r\n              <Input\r\n                style={{ backgroundColor: \"white\" }}\r\n                onChange={this.onImageChange}\r\n                type=\"file\"\r\n                name=\"images\"\r\n                multiple\r\n              />\r\n              <Error>{this.state.imagesError}</Error>\r\n            </div>\r\n            <Button type=\"submit\">Edit Attraction</Button>\r\n          </form>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractions, user, addresses, flashMessage }, ownProps) => {\r\n    return {\r\n      attraction: attractions[ownProps.match.params.id],\r\n      user,\r\n      addresses,\r\n      message: flashMessage.data,\r\n    };\r\n  },\r\n  { getAttraction, editAttraction, getAdresses }\r\n)(Edit);\r\n","import React, { Component, useState } from \"react\";\r\nimport GoogleMapReact from \"google-map-react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { getAllAttractions } from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport {\r\n  AttractionCard,\r\n  AttractionImg,\r\n  CardContent,\r\n} from \"../styledComponents/attractionsList\";\r\n\r\nconst Marker = ({ attraction }) => {\r\n  const [isShown, setIsShown] = useState(false);\r\n  const [zIndex, setZIndex] = useState(0);\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        transform: \"translate(-50%, -40%) scale(0.8)\",\r\n        zIndex,\r\n      }}\r\n      onMouseOver={() => {\r\n        setIsShown(true);\r\n        setZIndex(10);\r\n      }}\r\n      onMouseLeave={() => {\r\n        setIsShown(false);\r\n        setZIndex(0);\r\n      }}\r\n    >\r\n      {isShown && (\r\n        <AttractionCard key={attraction._id}>\r\n          <Link className=\"link\" to={`/attractions/${attraction._id}`}>\r\n            <AttractionImg src={attraction.images[0].url} alt=\"pic\" />\r\n            <CardContent>\r\n              {<p className=\"name\">{attraction.name}</p>}\r\n              <p className=\"subtitle\">\r\n                {attraction.description.substring(0, 101)}...\r\n              </p>\r\n            </CardContent>\r\n          </Link>\r\n        </AttractionCard>\r\n      )}\r\n      {!isShown && (\r\n        <img alt=\"marker\" src=\"/marker.png\" height=\"30px\" width=\"30px\" />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nclass AttractionsMap extends Component {\r\n  componentDidMount() {\r\n    this.props.getAllAttractions();\r\n  }\r\n\r\n  renderMarkers = () => {\r\n    return this.props.attractions.map((attraction) => {\r\n      let { geocode, _id } = attraction;\r\n      return (\r\n        <Marker\r\n          key={_id}\r\n          lat={geocode.lat}\r\n          lng={geocode.lng}\r\n          attraction={attraction}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <MainContainer>\r\n        <div\r\n          style={{\r\n            height: \"90vh\",\r\n            width: \"100%\",\r\n            marginTop: \"20px\",\r\n            position: \"relative\",\r\n          }}\r\n        >\r\n          <GoogleMapReact\r\n            bootstrapURLKeys={{\r\n              key: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\r\n            }}\r\n            defaultCenter={{ lat: 51.50809, lng: -0.129137 }}\r\n            defaultZoom={11}\r\n          >\r\n            {this.renderMarkers()}\r\n          </GoogleMapReact>\r\n        </div>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractions }) => {\r\n    return { attractions: _.values(attractions) };\r\n  },\r\n  { getAllAttractions }\r\n)(AttractionsMap);\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n   * {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nhtml {\r\n  /* font-size: 63.5%;/ */\r\n}\r\n\r\nbody {\r\n  /* font-family: 'Inter', Arial, Helvetica, sans-serif; */\r\n  line-height: 1;\r\n  font-weight: 400;\r\n  color: #555;\r\n  font-size: 18px;\r\n  -webkit-user-select: none; /* Safari */\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n  -khtml-user-select: none; /* Konqueror HTML */\r\n  -ms-user-select: none; /* Internet Explorer/Edge */\r\n  -moz-user-select: none; /* Old versions of Firefox */\r\n  user-select: none;\r\n}\r\n`;\r\n\r\n\r\n\r\n\r\nexport default GlobalStyles;\r\n","import React from \"react\";\r\nimport { Router, Switch, Route } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport history from \"../history\";\r\nimport Register from \"./auth/Register\";\r\nimport Login from \"./auth/Login\";\r\nimport Header from \"./Header\";\r\nimport Create from \"./attractions/Create\";\r\nimport AttractionsList from \"./attractions/AttractionsList\";\r\nimport AttractionDetails from \"./attractions/AttractionDetails\";\r\nimport myAttractions from \"./attractions/myAttractions\";\r\nimport Search from \"./attractions/Search\";\r\nimport Edit from \"./attractions/Edit\";\r\nimport { connect } from \"react-redux\";\r\nimport { isLoggedIn } from \"../actions\";\r\nimport AttractionsMap from \"./attractions/AttractionsMap\";\r\nimport GlobalStyles from \"../styles/GlobalStyles\";\r\n\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.isLoggedIn();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router history={history}>\r\n        <GlobalStyles />\r\n        <Header  />\r\n          <Switch>\r\n            <Route exact path=\"/\" component={AttractionsList} />\r\n            <Route exact path=\"/register\" component={Register} />\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/create\" component={Create} />\r\n            <Route exact path=\"/attractions/search\" component={Search} />\r\n            <Route exact path=\"/attractions/map\" component={AttractionsMap} />\r\n            <Route exact path=\"/attractions/:id/edit\" component={Edit} />\r\n            <Route\r\n              exact\r\n              path=\"/attractions/:id\"\r\n              component={AttractionDetails}\r\n            />\r\n            <Route exact path=\"/myattractions\" component={myAttractions} />\r\n            <Route path=\"*\" component={() => <h2>PAGE NOT FOUND</h2>} />\r\n          </Switch>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { isLoggedIn })(App);\r\n","import React from \"react\";\r\n\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\n\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport reducers from \"./reducers\";\r\nimport App from \"./components/App\";\r\nrequire('dotenv').config()\r\n\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n  whitelist: [\"user\"],\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, reducers);\r\n\r\nlet store = createStore(persistedReducer, applyMiddleware(thunk));\r\nlet persistor = persistStore(store);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <PersistGate loading={null} persistor={persistor}>\r\n      <App />\r\n    </PersistGate>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}