{"version":3,"sources":["reducers/userReducer.js","reducers/attractionsReducer.js","reducers/attractionsSearchReducer.js","reducers/AttractionCountReducer.js","reducers/flashMessageReducer.js","reducers/index.js","reducers/addressesReducer.js","history.js","actions/index.js","validation/validateUser.js","components/styledComponents/authPage.js","components/styledComponents/general.js","components/auth/Register.js","validation/validateLogin.js","components/auth/LoginGoogle.js","components/auth/Login.js","components/auth/LogoutGoogle.js","components/styledComponents/header.js","components/Header.js","validation/validateAttration.js","components/styledComponents/createAttraction.js","components/attractions/Create.js","components/styledComponents/attractionsList.js","components/attractions/AttractionsList.js","components/Map.js","components/styledComponents/attractionDetails.js","validation/validateReview.js","components/attractions/AttractionDetails.js","components/attractions/myAttractions.js","components/styledComponents/search.js","components/attractions/Search.js","components/attractions/Edit.js","components/attractions/AttractionsMap.js","styles/GlobalStyles.js","components/App.js","index.js"],"names":["userReducer","state","loggedIn","type","payload","error","attractions","_id","_","mapKeys","omit","attractionsSearchReducer","AttractionCountReducer","count","flashMessageReducer","data","combineReducers","user","attractionsSearchResults","attractionsSearch","addresses","attractionsCount","flashMessage","createHistory","require","createBrowserHistory","instance","axios","create","baseURL","withCredentials","dispatchMessage","dispatch","setTimeout","logout","a","post","getAttraction","id","get","getAllAttractions","getUserAttractions","first","second","third","beenThere","wantToVisit","list","isLoggedIn","getAdresses","term","process","suggestions","googleAuth","token","history","action","goBack","push","validateUsername","Joi","object","username","string","pattern","RegExp","message","min","max","required","validateEmail","email","tlds","allow","validatePassword","password","Container","styled","div","Input","input","Label","label","Button","button","GoogleButton","Title","h1","CenterText","Error","p","FlashError","MainContainer","loadingKF","keyframes","LoadingRing","Register","usernameError","passwordError","emailError","loading","usernameChange","e","setState","target","value","passwordChange","emailChange","handleSubmit","preventDefault","validate","details","props","register","this","onSubmit","htmlFor","onChange","name","onBlur","console","log","React","Component","connect","creds","text","render","renderProps","onClick","clientId","buttonText","onSuccess","res","tokenId","onFailure","cookiePolicy","style","marginTop","Login","login","LoginGoogle","onLogoutSuccess","Brand","NavItem","Header","renderGoogleLogout","oauth","LogoutGoogle","Navbar","sticky","bg","expand","as","Link","to","Toggle","Collapse","Nav","className","validateName","validateDescription","description","validateLocation","location","TextArea","textarea","Select","select","FlashMessage","Create","onNameChange","onDescriptionChange","onTermChange","debounce","length","locationError","onLocationChange","onImageChange","images","files","imagesError","nameError","descriptionError","firstAddress","address","createAttraction","renderAdressDropdown","map","i","autoComplete","encType","backgroundColor","multiple","renderForm","values","fd","FormData","append","image","AttractionCard","figure","AttractionImg","img","CardContent","CenterButton","AttractionsList","buttonVisibilty","renderAttractions","src","url","alt","substring","renderGetAllButton","visibility","getAttractions","getAttractionCount","Marker","height","width","Map","geocode","bootstrapURLKeys","key","defaultCenter","defaultZoom","lat","lng","Btn","Flag","IoFlagSharp","Star","IoStarSharp","List","IoListSharp","ImgsWrapper","ImgsContainer","Img","LeftBtn","IoArrowBackSharp","RightBtn","IoArrowForwardSharp","BodyContainer","SmallContainer","Description","AddReview","ReviewButton","Stars","Face","IoHappySharp","Author","DeleteButton","Reviews","Review","Delete","Edit","LoginButton","RegisterButton","Rating","RatingsNumber","schema","content","AttractionDetails","renderReviews","attraction","reviews","stars","author","deleteAttrationReview","attractionId","reviewId","rating","starDimension","starSpacing","starRatedColor","changeRating","renderAddReview","reviewError","validateReview","review","addAttractionReview","method","numberOfStars","starHoverColor","cols","rows","renderDeleteButton","addedBy","variant","deleteAttraction","renderEditButton","isOnList","some","renderAddToListButton","removeFromList","addToList","renderButtons","visited","addToWantToVisit","addToBeenThere","renderImages","public_id","sideScroll","element","speed","distance","step","scrollAmount","slideTimer","setInterval","scrollLeft","Math","abs","clearInterval","renderScroll","container","clientWidth","scrollWidth","renderAttraction","averageRating","imgsContainer","current","ref","createRef","match","params","ownProps","delete","MyAttractions","fontSize","Search","query","onQueryChange","searchAttractions","placeholder","componentDidMount","deleteImages","editAttraction","index","indexOf","splice","marginRight","marginBottom","opacity","nextProps","prevState","JSON","stringify","put","useState","isShown","setIsShown","zIndex","setZIndex","position","transform","onMouseOver","onMouseLeave","AttractionsMap","renderMarkers","GlobalStyles","createGlobalStyle","App","exact","path","component","myAttractions","config","persistConfig","storage","whitelist","persistedReducer","persistReducer","reducers","store","createStore","applyMiddleware","thunk","persistor","persistStore","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0bd31d7e.chunk.js","sourcesContent":["function userReducer(state = { loggedIn: false }, { type, payload }) {\r\n  switch (type) {\r\n    case \"REGISTER\":\r\n      return { ...payload, loggedIn: true };\r\n    case \"LOG_IN\":\r\n      return { ...payload, loggedIn: true };\r\n    case \"LOG_OUT\":\r\n      return { loggedIn: false };\r\n    case \"UPDATE_USER_LIST\":\r\n      return { ...state, ...payload };\r\n\r\n    case \"ERROR\":\r\n      return { error: payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default userReducer;\r\n","import _ from \"lodash\";\r\n\r\nfunction attractions(state = {}, { type, payload }) {\r\n  switch (type) {\r\n    case \"CREAT_ATTRACTION\":\r\n      return { ...state, [payload._id]: payload };\r\n    case \"GET_ATTRACTIONS\":\r\n      return { ...state, ..._.mapKeys(payload, \"_id\") };\r\n    case \"GET_ATTRACTION\":\r\n      return { ...state, [payload._id]: payload };\r\n    case \"DELETE_ATTRACTION\":\r\n      return _.omit(state, payload._id);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default attractions;\r\n","import _ from \"lodash\";\r\n\r\nfunction attractionsSearchReducer(state = {}, { type, payload }) {\r\n  switch (type) {\r\n    case \"ATTRACTIONS_SEARCH_RESULTS\":\r\n      return { ..._.mapKeys(payload, \"_id\") };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default attractionsSearchReducer;\r\n","function AttractionCountReducer(state = { count: 0 }, { type, payload }) {\r\n  switch (type) {\r\n    case \"GET_ATTRACTION_COUNT\":\r\n      return { count: payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default AttractionCountReducer;\r\n","function flashMessageReducer(state = \"\", { type, payload }) {\r\n  switch (type) {\r\n    case \"FLASH_MESSAGE\":\r\n      return { data: payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default flashMessageReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport user from \"./userReducer\";\r\nimport attractions from \"./attractionsReducer\";\r\nimport attractionsSearch from \"./attractionsSearchReducer\";\r\nimport addresses from \"./addressesReducer\";\r\nimport AttractionCountReducer from \"./AttractionCountReducer\";\r\nimport flashMessageReducer from \"./flashMessageReducer\";\r\n\r\nexport default combineReducers({\r\n  user,\r\n  attractions,\r\n  attractionsSearchResults: attractionsSearch,\r\n  addresses,\r\n  attractionsCount: AttractionCountReducer,\r\n  flashMessage: flashMessageReducer,\r\n});\r\n","export default function addressReducer(state = [], { type, payload }) {\r\n  switch (type) {\r\n    case \"GET_ADDRESSES\":\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const createHistory = require('history').createBrowserHistory();\r\n\r\nexport default createHistory; ","import history from \"../history\";\r\nimport axios from \"axios\";\r\n\r\n// let url =  \"http://localhost:3001\";\r\n\r\nlet instance = axios.create({\r\n  baseURL: '/api', \r\n  withCredentials: true,\r\n});\r\n\r\nfunction dispatchMessage(dispatch, { type, payload }) {\r\n  dispatch({ type, payload });\r\n\r\n  setTimeout(() => {\r\n    dispatch({ type, payload: \"\" });\r\n  }, 3000);\r\n}\r\n\r\nexport const register = (creds) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\"/register\", creds);\r\n\r\n      if (data.username) {\r\n        dispatch({ type: \"REGISTER\", payload: data });\r\n        if (history.action !== \"POP\") history.goBack();\r\n        else history.push(\"/\");\r\n      } else {\r\n        dispatchMessage(dispatch, { type: \"ERROR\", payload: data });\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const login = (creds) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\"/login\", creds);\r\n\r\n      if (data.username) {\r\n        dispatch({ type: \"LOG_IN\", payload: data });\r\n        if (history.action !== \"POP\") history.goBack();\r\n        else history.push(\"/\");\r\n      } else {\r\n        dispatchMessage(dispatch, { type: \"ERROR\", payload: data });\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      await instance.post(\"/logout\");\r\n      dispatch({ type: \"LOG_OUT\" });\r\n      dispatchMessage(dispatch, {\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"You are logged out\",\r\n      });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const createAttraction = (values) => {\r\n  let { name, location, description, images } = values;\r\n  let fd = new FormData();\r\n  fd.append(\"name\", name);\r\n  fd.append(\"description\", description);\r\n  fd.append(\"location\", location);\r\n  for (let image of images) {\r\n    fd.append(\"images\", image);\r\n  }\r\n  return (dispatch) => {\r\n    (async () => {\r\n     \r\n      let { data } = await instance.post(\"/attractions\", fd);\r\n      dispatch({ type: \"CREAT_ATTRACTION\", payload: data });\r\n\r\n      dispatchMessage(dispatch, {\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"Attraction has been created\",\r\n      });\r\n      history.push(`/attractions/${data._id}`);\r\n    })();\r\n  };\r\n};\r\n\r\nexport const editAttraction = (values) => {\r\n  let { name, location, description, images, _id, deleteImages } = values;\r\n  let fd = new FormData();\r\n  fd.append(\"name\", name);\r\n  fd.append(\"description\", description);\r\n  fd.append(\"location\", location);\r\n  fd.append(\"deleteImages\", JSON.stringify(deleteImages));\r\n  if (images) {\r\n    for (let image of images) {\r\n      fd.append(\"images\", image);\r\n    }\r\n  }\r\n  return (dispatch) => {\r\n    (async () => {\r\n\r\n      let { data } = await instance.put(`/attractions/${_id}`, fd);\r\n\r\n      dispatch({ type: \"CREAT_ATTRACTION\", payload: data });\r\n\r\n      dispatchMessage(dispatch, {\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"Attraction has been edited\",\r\n      });\r\n\r\n      history.push(`/attractions/${data._id}`);\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAttraction = (id) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(`/attractions/${id}`);\r\n      dispatch({ type: \"GET_ATTRACTION\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAttractions = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(\"/attractions\");\r\n      dispatch({ type: \"GET_ATTRACTIONS\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const searchAttractions = (query) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(`/attractions/search?q=${query}`);\r\n      dispatch({ type: \"ATTRACTIONS_SEARCH_RESULTS\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAllAttractions = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(\"/attractions/all\");\r\n      dispatch({ type: \"GET_ATTRACTIONS\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const deleteAttraction = (id) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.delete(`/attractions/${id}`);\r\n      dispatch({ type: \"DELETE_ATTRACTION\", payload: data });\r\n      dispatch({\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"Attraction has been deleted\",\r\n      });\r\n      setTimeout(() => {\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"\",\r\n        });\r\n      }, 5000);\r\n      history.push(\"/\");\r\n    })();\r\n  };\r\n};\r\n\r\nexport const addAttractionReview = ({ attractionId, content, stars }) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\r\n        `/attractions/${attractionId}/reviews`,\r\n        { content, stars }\r\n      );\r\n      dispatch({ type: \"GET_ATTRACTION\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const deleteAttrationReview = ({ attractionId, reviewId }) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.delete(\r\n        `/attractions/${attractionId}/reviews/${reviewId}`\r\n      );\r\n\r\n      dispatch({ type: \"GET_ATTRACTION\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const addToBeenThere = (attractionId) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\r\n        `/attractions/${attractionId}/beenthere`\r\n      );\r\n      if (data !== \"ALREADY ADDED\") {\r\n        dispatch(getAttraction(attractionId));\r\n        dispatch({ type: \"UPDATE_USER_LIST\", payload: data });\r\n\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"Attraction has been to your list\",\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({\r\n            type: \"FLASH_MESSAGE\",\r\n            payload: \"\",\r\n          });\r\n        }, 5000);\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const addToWantToVisit = (attractionId) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\r\n        `/attractions/${attractionId}/wanttovist`\r\n      );\r\n      if (data !== \"ALREADY ADDED\") {\r\n        dispatch(getAttraction(attractionId));\r\n        dispatch({ type: \"UPDATE_USER_LIST\", payload: data });\r\n\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"Attraction has been added to your list\",\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({\r\n            type: \"FLASH_MESSAGE\",\r\n            payload: \"\",\r\n          });\r\n        }, 5000);\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const addToList = (attractionId) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(`/attractions/${attractionId}/list`);\r\n      if (data !== \"WRONG REQUEST\") {\r\n        dispatch({ type: \"UPDATE_USER_LIST\", payload: data });\r\n\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"Attraction has been added to your list\",\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({\r\n            type: \"FLASH_MESSAGE\",\r\n            payload: \"\",\r\n          });\r\n        }, 5000);\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const removeFromList = (attractionId) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.delete(`/attractions/${attractionId}/list`);\r\n      if (data !== \"WRONG REQUEST\") {\r\n        dispatch({ type: \"UPDATE_USER_LIST\", payload: data });\r\n\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"Attraction has been removed to your list\",\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({\r\n            type: \"FLASH_MESSAGE\",\r\n            payload: \"\",\r\n          });\r\n        }, 5000);\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getUserAttractions = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let first = await instance.get(\"/user/beenthere\");\r\n      let second = await instance.get(\"/user/wanttovist\");\r\n      let third = await instance.get(\"/user/list\");\r\n\r\n      dispatch({\r\n        type: \"UPDATE_USER_LIST\",\r\n        payload: {\r\n          beenThere: first.data,\r\n          wantToVisit: second.data,\r\n          list: third.data,\r\n        },\r\n      });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const isLoggedIn = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(\"/loggedin\");\r\n      if (!data.isLoggedIn) dispatch({ type: \"LOG_OUT\" });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAdresses = (term) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await axios.get(\r\n        `https://api.getaddress.io/autocomplete/${term}?expand=true&api-key=${process.env.REACT_APP_ADDRESS_API_KEY} `\r\n      );\r\n\r\n      dispatch({ type: \"GET_ADDRESSES\", payload: data.suggestions });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const googleAuth = (token) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\"/oauth\", { token });\r\n      dispatch({ type: \"LOG_IN\", payload: data });\r\n      if (history.action !== \"POP\") history.goBack();\r\n      else history.push(\"/\");\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAttractionCount = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(\"/attractions/count\");\r\n\r\n      dispatch({ type: \"GET_ATTRACTION_COUNT\", payload: data.count });\r\n    })();\r\n  };\r\n};\r\n","import Joi from \"joi\";\r\n\r\n\r\nexport const validateUsername = Joi.object({\r\n  username: Joi.string()\r\n    .pattern(new RegExp(\"^[A-Za-z0-9_-]*$\"))\r\n    .message({ \"string.pattern.base\": \"Invalid username\" })\r\n    .min(5)\r\n    .max(30)\r\n    .required(),\r\n});\r\n\r\nexport const validateEmail = Joi.object({\r\n  email: Joi.string()\r\n    .email({ tlds: { allow: false } })\r\n    .required(),\r\n});\r\n\r\nexport const validatePassword = Joi.object({\r\n  password: Joi.string()\r\n    .pattern(new RegExp(\"^[A-Za-z0-9_@./#&+-]*$\"))\r\n    .message({ \"string.pattern.base\": \"Invalid password\" })\r\n    .min(6)\r\n    .max(20)\r\n    .required(),\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  width: 40rem;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 4.4rem 5.5rem;\r\n  box-shadow: 0 0.2rem 2rem rgba(0, 0, 0, 0.15);\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  width: 100%;\r\n  height: 5.2rem;\r\n  margin: 1.2rem 0;\r\n  font-family: inherit;\r\n  outline: none;\r\n  border: none;\r\n  padding: 1rem;\r\n  font-size: 1.8rem;\r\n  background-color: #f3f4f6;\r\n  border: ${({ error }) => (error ? \"1px solid red\" : \"none\")};\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  color: #212529;\r\n  font-size: 2rem;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  width: 100%;\r\n  height: 5.2rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 20px;\r\n  align-items: center;\r\n  color: white;\r\n  background-color: #065f46;\r\n  border: none;\r\n  font-size: 2.5rem;\r\n  transition: all 300ms;\r\n  margin-top: 1.8rem;\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\n\r\nexport const GoogleButton = styled.button`\r\n  width: 100%;\r\n  height: 5.2rem;\r\n  color: white;\r\n  margin-top: 2rem;\r\n  background-color: #de5246;\r\n  border: none;\r\n  font-size: 2.5rem;\r\n  transition: all 300ms;\r\n  &:hover {\r\n    background-color: #b91c1c;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  position: relative;\r\n  font-size: 4.2rem;\r\n  color: #212529;\r\n  margin: 8.6rem 0 6rem 0;\r\n`;\r\n\r\nexport const CenterText = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nexport const Error = styled.p`\r\n  color: red;\r\n  font-size: 1.6rem;\r\n  margin-bottom: 1.6rem;\r\n`;\r\n\r\nexport const FlashError = styled.p`\r\n  position: absolute;\r\n  color: red;\r\n  font-size: 1.8rem;\r\n  right: 50%;\r\n  transform: translate(50%, 2rem);\r\n`;\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\nexport const MainContainer = styled.div`\r\n  width: 80%;\r\n  margin: 0 auto 7rem auto;\r\n`;\r\n\r\nconst loadingKF = keyframes`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nexport const LoadingRing = styled.div`\r\n  display: inline-block;\r\n  width: 38px;\r\n  height: 38px;\r\n\r\n  &::after {\r\n    content: \" \";\r\n    display: inline-block;\r\n    width: 38px;\r\n    height: 38px;\r\n    border-radius: 50%;\r\n    border: 6px solid #fff;\r\n    border-color: #fff transparent #fff transparent;\r\n    animation: ${loadingKF} 1.2s linear infinite;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { register } from \"../../actions\";\r\nimport {\r\n  validateUsername,\r\n  validateEmail,\r\n  validatePassword,\r\n} from \"../../validation/validateUser\";\r\nimport history from \"../../history\";\r\nimport {\r\n  Container,\r\n  Title,\r\n  Input,\r\n  Label,\r\n  Button,\r\n  CenterText,\r\n  Error,\r\n  FlashError,\r\n} from \"../styledComponents/authPage\";\r\nimport { LoadingRing, MainContainer } from \"../styledComponents/general\";\r\n\r\nclass Register extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    email: \"\",\r\n    usernameError: \"\",\r\n    passwordError: \"\",\r\n    emailError: \"\",\r\n    loading: false,\r\n  };\r\n\r\n  usernameChange = (e) => {\r\n    this.setState({ username: e.target.value });\r\n  };\r\n\r\n  passwordChange = (e) => {\r\n    this.setState({ password: e.target.value });\r\n  };\r\n\r\n  emailChange = (e) => {\r\n    this.setState({ email: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    let usernameError = validateUsername.validate({\r\n      username: this.state.username,\r\n    }).error;\r\n\r\n    if (usernameError)\r\n      this.setState({ usernameError: usernameError.details[0].message });\r\n\r\n    let passwordError = validatePassword.validate({\r\n      password: this.state.password,\r\n    }).error;\r\n\r\n    if (passwordError)\r\n      this.setState({ passwordError: passwordError.details[0].message });\r\n\r\n    let emailError = validateEmail.validate({\r\n      email: this.state.email,\r\n    }).error;\r\n\r\n    if (emailError)\r\n      this.setState({ emailError: emailError.details[0].message });\r\n\r\n    if (!usernameError && !passwordError && !emailError) {\r\n      this.props.register(this.state);\r\n      this.setState({ loading: true });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.props.user && this.props.user.loggedIn) history.push(\"/\");\r\n\r\n    return (\r\n      <MainContainer>\r\n        <CenterText>\r\n          <Title>\r\n            Register\r\n            {this.props.user.error && (\r\n              <FlashError>{this.props.user.error}</FlashError>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n\r\n        <Container>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div>\r\n              <Label htmlFor=\"username\">Email</Label>\r\n              <Input\r\n                value={this.state.email}\r\n                onChange={this.emailChange}\r\n                name=\"email\"\r\n                type=\"text\"\r\n                error={this.state.emailError}\r\n                onBlur={(e) => {\r\n                  if (validateEmail.validate({ email: e.target.value }).error) {\r\n                    this.setState({\r\n                      emailError: validateEmail.validate({\r\n                        email: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ emailError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.emailError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"username\">Username</Label>\r\n              <Input\r\n                value={this.state.username}\r\n                onChange={this.usernameChange}\r\n                name=\"username\"\r\n                type=\"text\"\r\n                error={this.state.usernameError}\r\n                onBlur={(e) => {\r\n                  if (\r\n                    validateUsername.validate({ username: e.target.value })\r\n                      .error\r\n                  ) {\r\n                    this.setState({\r\n                      usernameError: validateUsername.validate({\r\n                        username: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ usernameError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.usernameError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"password\">Password</Label>\r\n              <Input\r\n                value={this.state.password}\r\n                onChange={this.passwordChange}\r\n                name=\"password\"\r\n                type=\"password\"\r\n                error={this.state.passwordError}\r\n                onBlur={(e) => {\r\n                  if (\r\n                    validatePassword.validate({ password: e.target.value })\r\n                      .error\r\n                  ) {\r\n                    console.log();\r\n                    this.setState({\r\n                      passwordError: validatePassword.validate({\r\n                        password: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ passwordError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.passwordError}</Error>\r\n            </div>\r\n            <Button type=\"submit\">\r\n              {this.state.loading && <LoadingRing/>}Register</Button>\r\n          </form>\r\n        </Container>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ user }) => {\r\n    return { user };\r\n  },\r\n  { register }\r\n)(Register);\r\n","import Joi from \"joi\";\r\n\r\nexport const validateUsername = Joi.object({\r\n  username: Joi.string()\r\n    .pattern(new RegExp(\"^[A-Za-z0-9_-]*$\"))\r\n    .message({ \"string.pattern.base\": \"Invalid username\" })\r\n    .min(5)\r\n    .max(30)\r\n    .required(),\r\n});\r\n\r\nexport const validatePassword = Joi.object({\r\n  password: Joi.string()\r\n    .pattern(new RegExp(\"^[A-Za-z0-9_@./#&+-]*$\"))\r\n    .message({ \"string.pattern.base\": \"Invalid password\" })\r\n    // .min(6)\r\n    .max(20)\r\n    .required(),\r\n});\r\n","import React from \"react\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport { connect } from \"react-redux\";\r\nimport { googleAuth } from \"../../actions\";\r\n\r\nfunction Login({ googleAuth,text }) {\r\n  const onSuccess = (res) => {\r\n    googleAuth(res.tokenId);\r\n  };\r\n\r\n  const onFailure = (res) => {\r\n    console.log(\"LOGGIN FAILED\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <GoogleLogin\r\n        render={(renderProps) => (\r\n          <span onClick={renderProps.onClick}>\r\n           {text}\r\n          </span>\r\n        )}\r\n        clientId={process.env.REACT_APP_CLIENT_ID}\r\n        buttonText=\"Login\"\r\n        onSuccess={onSuccess}\r\n        onFailure={onFailure}\r\n        cookiePolicy={\"single_host_origin\"}\r\n        style={{ marginTop: \"100px\" }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null, { googleAuth })(Login);\r\n","import React from \"react\";\r\nimport { login } from \"../../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport history from \"../../history\";\r\nimport {\r\n  validatePassword,\r\n  validateUsername,\r\n} from \"../../validation/validateLogin\";\r\n\r\nimport {\r\n  Container,\r\n  Title,\r\n  Input,\r\n  Label,\r\n  Button,\r\n  CenterText,\r\n  GoogleButton,\r\n  Error,\r\n  FlashError,\r\n} from \"../styledComponents/authPage\";\r\nimport { LoadingRing, MainContainer } from \"../styledComponents/general\";\r\nimport LoginGoogle from \"./LoginGoogle\";\r\nimport { IoLogoGoogle } from \"react-icons/io5\";\r\n\r\nclass Login extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    usernameError: \"\",\r\n    passwordError: \"\",\r\n    loading: false,\r\n  };\r\n\r\n  usernameChange = (e) => {\r\n    this.setState({ username: e.target.value });\r\n  };\r\n\r\n  passwordChange = (e) => {\r\n    this.setState({ password: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    let usernameError = validateUsername.validate({\r\n      username: this.state.username,\r\n    }).error;\r\n\r\n    if (usernameError)\r\n      this.setState({ usernameError: usernameError.details[0].message });\r\n\r\n    let passwordError = validatePassword.validate({\r\n      password: this.state.password,\r\n    }).error;\r\n\r\n    if (passwordError)\r\n      this.setState({ passwordError: passwordError.details[0].message });\r\n\r\n    if (!usernameError && !passwordError) {\r\n      this.props.login(this.state);\r\n      this.setState({loading:true})\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.props.user && this.props.user.loggedIn) history.push(\"/\");\r\n    return (\r\n      <MainContainer>\r\n        <CenterText>\r\n          <Title>\r\n            Login\r\n            {this.props.user.error && (\r\n              <FlashError>{this.props.user.error}</FlashError>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n        <Container>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div>\r\n              <Label htmlFor=\"username\">Username</Label>\r\n              <Input\r\n                error={this.state.usernameError}\r\n                value={this.state.username}\r\n                onChange={this.usernameChange}\r\n                name=\"username\"\r\n                type=\"text\"\r\n                onBlur={(e) => {\r\n                  if (\r\n                    validateUsername.validate({ username: e.target.value })\r\n                      .error\r\n                  ) {\r\n                    this.setState({\r\n                      usernameError: validateUsername.validate({\r\n                        username: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ usernameError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.usernameError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"password\">Password</Label>\r\n              <Input\r\n                error={this.state.passwordError}\r\n                value={this.state.password}\r\n                onChange={this.passwordChange}\r\n                name=\"password\"\r\n                type=\"password\"\r\n                onBlur={(e) => {\r\n                  if (\r\n                    validatePassword.validate({ password: e.target.value })\r\n                      .error\r\n                  ) {\r\n                    console.log();\r\n                    this.setState({\r\n                      passwordError: validatePassword.validate({\r\n                        password: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ passwordError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.passwordError}</Error>\r\n            </div>\r\n            <Button type=\"submit\">\r\n              {this.state.loading && <LoadingRing />}Login\r\n            </Button>\r\n\r\n            <CenterText style={{ marginTop: \"15px\" }}>Or</CenterText>\r\n\r\n            <LoginGoogle\r\n              text={\r\n                <GoogleButton>\r\n                  Login with <IoLogoGoogle />\r\n                </GoogleButton>\r\n              }\r\n            />\r\n          </form>\r\n        </Container>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ user }) => {\r\n    return { user };\r\n  },\r\n  { login }\r\n)(Login);\r\n","import React from \"react\";\r\nimport { GoogleLogout } from \"react-google-login\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../actions\";\r\n\r\nfunction Logout({ logout }) {\r\n  const onSuccess = () => {\r\n    logout();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <GoogleLogout\r\n        render={(renderProps) => (\r\n          <span onClick={renderProps.onClick}>\r\n             Logout\r\n          </span>\r\n        )}\r\n        clientId={process.env.REACT_APP_CLIENT_ID}\r\n        buttonText=\"Logout\"\r\n        onLogoutSuccess={onSuccess}\r\n      ></GoogleLogout>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null, { logout })(Logout);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Brand = styled.p`\r\n  color: #065f46;\r\n  padding: 0;\r\n  margin: 0;\r\n  margin-right: 60px;\r\n  text-transform: uppercase;\r\n  font-weight: bold;\r\n  font-size: 2rem;\r\n`;\r\n\r\nexport const NavItem = styled.p`\r\n  color: #065f46;\r\n  padding: 0;\r\n  margin: 0;\r\n  margin-right: 15px;\r\n  text-transform: uppercase;\r\n  font-size: 2rem;\r\n\r\n  @media (max-width: 1086px) {\r\n    margin-right: 10px;\r\n  }\r\n\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\r\nimport { logout, googleAuth } from \"../actions\";\r\n\r\nimport LogoutGoogle from \"./auth/LogoutGoogle\";\r\nimport { Brand, NavItem } from \"./styledComponents/header\";\r\n\r\nclass Header extends React.Component {\r\n  renderGoogleLogout = () => {\r\n    if (!this.props.user.loggedIn || !this.props.user.oauth) return \"\";\r\n    return <LogoutGoogle />;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Navbar sticky=\"top\" bg=\"light\" expand=\"lg\">\r\n        <Container>\r\n          <Navbar.Brand as={Link} to=\"/\">\r\n            <Brand>Arcane London</Brand>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle  aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"me-auto\">\r\n              <Nav.Link  as={Link} to=\"/\">\r\n                <NavItem>Attractions</NavItem>\r\n              </Nav.Link>\r\n              <Nav.Link as={Link} to=\"/attractions/map\">\r\n                <NavItem>Map</NavItem>\r\n              </Nav.Link>\r\n\r\n              {this.props.user.loggedIn && (\r\n                <Nav.Link as={Link} to=\"/create\">\r\n                  <NavItem>Add Attraction</NavItem>\r\n                </Nav.Link>\r\n              )}\r\n              {this.props.user.loggedIn && (\r\n                <Nav.Link as={Link} to=\"/myattractions\">\r\n                  <NavItem>Lists</NavItem>\r\n                </Nav.Link>\r\n              )}\r\n              <Nav.Link as={Link} to=\"/attractions/search\">\r\n                <NavItem>Search</NavItem>\r\n              </Nav.Link>\r\n              {!this.props.user.loggedIn && (\r\n                <Nav.Link as={Link} to=\"/register\">\r\n                  <NavItem>Register</NavItem>\r\n                </Nav.Link>\r\n              )}\r\n              {this.props.user.loggedIn && !this.props.user.oauth && (\r\n                <Nav.Link\r\n                  onClick={() => {\r\n                    this.props.logout();\r\n                  }}\r\n                >\r\n                  <NavItem>Logout</NavItem>\r\n                </Nav.Link>\r\n              )}\r\n              {!this.props.user.loggedIn && (\r\n                <Nav.Link as={Link} to=\"/login\">\r\n                  <NavItem>Login</NavItem>\r\n                </Nav.Link>\r\n              )}\r\n\r\n              {this.props.user.loggedIn && this.props.user.oauth && (\r\n                <Nav.Link>\r\n                  <NavItem>\r\n                    <LogoutGoogle />\r\n                  </NavItem>\r\n                </Nav.Link>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ user }) => {\r\n    return { user };\r\n  },\r\n  { logout, googleAuth }\r\n)(Header);\r\n","import Joi from \"joi\";\r\n\r\nexport const validateName = Joi.object({\r\n  name: Joi.string().min(3).max(50).required(),\r\n});\r\n\r\nexport const validateDescription = Joi.object({\r\n  description: Joi.string().min(20).required(),\r\n});\r\n\r\nexport const validateLocation = Joi.object({\r\n  location: Joi.string().required(),\r\n});\r\n\r\n","import styled from \"styled-components\";\r\n\r\n// SPACING SYSTEM (px):\r\n//   2 / 4 / 8 / 12 / 16 / 24 / 32 / 48 / 64 / 80 / 96 / 128\r\n\r\n// FONT SIZE SYSTEM (px):\r\n//   10 / 12 / 14 / 16 / 18 / 20 / 24 / 30 / 36 / 44 / 52 / 62 / 74 / 86 / 98\r\n\r\n//#e9ecef\r\n// #065f46\r\n\r\nexport const Container = styled.div`\r\n  width: 60rem;\r\n  margin: 0 auto;\r\n  margin-top: 4.8rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 4.4rem 5.5rem;\r\n  box-shadow: 0 2px 2rem rgba(0, 0, 0, 0.15);\r\n\r\n  @media (max-width: 1024px) {\r\n    width: 50rem;\r\n    \r\n  }\r\n  \r\n  @media (max-width: 768px) {\r\n    width: 40rem;\r\n  }\r\n\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  width: 100%;\r\n  height: 5.2rem;\r\n  margin: 1.2rem 0;\r\n  font-family: sans-serif;\r\n  outline: none;\r\n  border: none;\r\n  padding: 1rem;\r\n  font-size: 1.8rem;\r\n  background-color: #f3f4f6;\r\n  border: ${({ error }) => (error ? \"1px solid red\" : \"none\")};\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  color: #212529;\r\n  font-size: 2.4rem;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 30px;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: 5.2rem;\r\n  color: white;\r\n  background-color: #065f46;\r\n  border: none;\r\n  font-size: 2.5rem;\r\n  transition: all 300ms;\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  position: relative;\r\n  font-size: 4.2rem;\r\n  color: #212529;\r\n  margin: 4.2rem 0 9.2rem 0;\r\n`;\r\n\r\nexport const CenterText = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nexport const TextArea = styled.textarea`\r\n  width: 100%;\r\n  height: 16rem;\r\n  border: none;\r\n  outline: none;\r\n  margin: 1.2rem 0;\r\n  padding: 1.2rem;\r\n  line-height: 1.3;\r\n  background-color: #f3f4f6;\r\n  border: ${({ error }) => (error ? \"1px solid red\" : \"none\")};\r\n`;\r\n\r\nexport const Select = styled.select`\r\n  width: 100%;\r\n  height: 5.2rem;\r\n  border: none;\r\n  outline: none;\r\n  margin-bottom: 3rem;\r\n  padding: 1.2rem;\r\n  background-color: #f3f4f6;\r\n`;\r\n\r\nexport const FlashMessage = styled.p`\r\n  position: absolute;\r\n  font-size: 2.5rem;\r\n  color: #064e3b;\r\n  background-color: #d1fae5;\r\n  border-radius: 1rem;\r\n  right: 50%;\r\n  transform: translate(50%, 2rem);\r\n  padding: 1.2rem;\r\n  border-radius: 1rem;\r\n  margin-bottom: 3rem;\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport history from \"../../history\";\r\nimport { createAttraction, getAdresses, isLoggedIn } from \"../../actions\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  validateName,\r\n  validateDescription,\r\n  validateLocation,\r\n} from \"../../validation/validateAttration\";\r\nimport {\r\n  Input,\r\n  Label,\r\n  Container,\r\n  Button,\r\n  TextArea,\r\n  Select,\r\n  CenterText,\r\n  Title,\r\n  FlashMessage,\r\n} from \"../styledComponents/createAttraction\";\r\nimport { LoadingRing, MainContainer } from \"../styledComponents/general\";\r\nimport { Error } from \"../styledComponents/authPage\";\r\n\r\nclass Create extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      description: \"\",\r\n      location: \"\",\r\n      images: null,\r\n      term: \"\",\r\n      nameError: \"\",\r\n      descriptionError: \"\",\r\n      locationError: \"\",\r\n      imagesError: \"\",\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  onNameChange = (e) => {\r\n    this.setState({ name: e.target.value });\r\n  };\r\n\r\n  onDescriptionChange = (e) => {\r\n    this.setState({ description: e.target.value });\r\n  };\r\n\r\n  onTermChange = (e) => {\r\n    this.setState({ term: e.target.value });\r\n\r\n    _.debounce(() => {\r\n      this.props.getAdresses(this.state.term);\r\n      if (this.props.addresses.length === 0) {\r\n        this.setState({ locationError: \"It must be a valid UK address\" });\r\n      } else {\r\n        this.setState({ locationError: \"\" });\r\n      }\r\n    }, 500)();\r\n  };\r\n\r\n  onLocationChange = (e) => {\r\n    this.setState({ location: e.target.value });\r\n  };\r\n\r\n  onImageChange = (e) => {\r\n    this.setState({ images: e.target.files });\r\n    this.setState({\r\n      imagesError: \"\",\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let nameError = validateName.validate({\r\n      name: this.state.name,\r\n    }).error;\r\n\r\n    if (nameError) {\r\n      this.setState({\r\n        nameError: nameError.details[0].message,\r\n      });\r\n    }\r\n\r\n    let descriptionError = validateDescription.validate({\r\n      description: this.state.description,\r\n    }).error;\r\n\r\n    if (descriptionError) {\r\n      this.setState({\r\n        descriptionError: descriptionError.details[0].message,\r\n      });\r\n    }\r\n\r\n    let addresses = this.props.addresses;\r\n    let firstAddress = ''\r\n    if (addresses.length > 0 && this.state.location === \"\") {\r\n      this.setState({ location: addresses[0].address });\r\n      firstAddress = addresses[0].address;\r\n    }\r\n    let locationError = validateLocation.validate({\r\n      location: this.state.location || firstAddress ,\r\n    }).error;\r\n\r\n    if (locationError) {\r\n      this.setState({\r\n        locationError: locationError.details[0].message,\r\n      });\r\n    }\r\n\r\n    let imagesError = !this.state.images\r\n      ? \"You must upload at least one image\"\r\n      : \"\";\r\n\r\n    if (imagesError) {\r\n      this.setState({ imagesError });\r\n    }\r\n\r\n    if (!nameError && !locationError && !descriptionError && !imagesError) {\r\n      this.props.createAttraction(this.state);\r\n      this.setState({ location: \"\" });\r\n      this.setState({ loading: true });\r\n    }\r\n  };\r\n\r\n  renderAdressDropdown = () => {\r\n    let addresses = this.props.addresses;\r\n    return (\r\n      <Select onClick={this.onLocationChange}>\r\n        {addresses.map(({ address }, i) => {\r\n          return (\r\n            <option key={i} value={address}>\r\n              {address}\r\n            </option>\r\n          );\r\n        })}\r\n      </Select>\r\n    );\r\n  };\r\n\r\n  renderForm() {\r\n    if (!this.props.user.loggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n    return (\r\n      <div>\r\n        <CenterText>\r\n          <Title>\r\n            Add Attraction\r\n            {this.props.message && (\r\n              <FlashMessage>{this.props.message}</FlashMessage>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n        <Container>\r\n          <form\r\n            autoComplete=\"off\"\r\n            onSubmit={this.handleSubmit}\r\n            encType=\"multipart/form-data\"\r\n          >\r\n            <div>\r\n              <Label htmlFor=\"name\">Name</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                onChange={this.onNameChange}\r\n                value={this.state.name}\r\n                error={this.state.nameError}\r\n                onBlur={(e) => {\r\n                  let nameError = validateName.validate({\r\n                    name: e.target.value,\r\n                  }).error;\r\n                  if (nameError) {\r\n                    this.setState({\r\n                      nameError: nameError.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ nameError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.nameError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <TextArea\r\n                name=\"description\"\r\n                onChange={this.onDescriptionChange}\r\n                value={this.state.description}\r\n                error={this.state.descriptionError}\r\n                onBlur={(e) => {\r\n                  let descriptionError = validateDescription.validate({\r\n                    description: e.target.value,\r\n                  }).error;\r\n                  if (descriptionError) {\r\n                    this.setState({\r\n                      descriptionError: descriptionError.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ descriptionError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.descriptionError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"location\">Address</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"location\"\r\n                onChange={this.onTermChange}\r\n                value={this.state.term}\r\n                error={this.state.locationError}\r\n                onBlur={(e) => {\r\n                  let locationError = validateLocation.validate({\r\n                    location: e.target.value,\r\n                  }).error;\r\n                  if (locationError) {\r\n                    this.setState({\r\n                      locationError: locationError.details[0].message,\r\n                    });\r\n                  } else if (this.props.addresses.length !== 0) {\r\n                    this.setState({ locationError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.locationError}</Error>\r\n            </div>\r\n            {this.props.addresses.length > 0 && this.renderAdressDropdown()}\r\n            <div>\r\n              <Label htmlFor=\"image\">Upload images</Label>\r\n              <Input\r\n                style={{ backgroundColor: \"white\" }}\r\n                onChange={this.onImageChange}\r\n                type=\"file\"\r\n                name=\"images\"\r\n                multiple\r\n              />\r\n              <Error>{this.state.imagesError}</Error>\r\n            </div>\r\n            <Button type=\"submit\">\r\n              {this.state.loading && <LoadingRing />}\r\n               Submit Attraction\r\n            </Button>\r\n          </form>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return <MainContainer>{this.renderForm()}</MainContainer>;\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ addresses, user, flashMessage }) => {\r\n    return { addresses, user, message: flashMessage.data };\r\n  },\r\n  { createAttraction, getAdresses, isLoggedIn }\r\n)(Create);\r\n","import styled from \"styled-components\";\r\n\r\n\r\nexport const Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  row-gap: 4rem;\r\n  column-gap: 2rem;\r\n  margin-top: 64px;\r\n  width: 90%;\r\n  margin: 0 auto;\r\n  margin-top: 4.8rem;\r\n  justify-items: center;\r\n\r\n\r\n  @media (max-width: 1024px) {\r\n    grid-template-columns: repeat(3, 1fr);\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n  @media (max-width: 600px) {\r\n    grid-template-columns: repeat(1, 1fr);\r\n  }\r\n`;\r\n\r\nexport const AttractionCard = styled.figure`\r\n  width: 24rem;\r\n  background-color: #fff;\r\n  box-shadow: 0 0.2rem 2rem rgba(0, 0, 0, 0.2);\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  align-self: start;\r\n  transition: all 0.3s;\r\n  justify-content: space-between;\r\n  z-index: 10;\r\n  .link {\r\n    text-decoration: none;\r\n  }\r\n\r\n  &:hover {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nexport const AttractionImg = styled.img`\r\n  width: 24rem;\r\n  height: 16rem;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const CardContent = styled.div`\r\n  padding: 1.2rem;\r\n  font-size: 1.6rem;\r\n  align-self: start;\r\n\r\n  .name {\r\n    text-decoration: none;\r\n    color: #065f46;\r\n    margin-bottom: 1.2rem;\r\n    font-size: 2.5rem;\r\n    font-weight: 500;\r\n  }\r\n  .subtitle {\r\n    font-family: \"Times New Roman\", Times, serif;\r\n    text-transform: lowercase;\r\n    color: black;\r\n    font-size: 1.8rem;\r\n    font-weight: 500;\r\n  }\r\n\r\n  .subtitle::first-letter {\r\n    text-transform: uppercase;\r\n  }\r\n`;\r\n\r\nexport const CenterButton = styled.div`\r\n  width: 30rem;\r\n  margin: 2.4rem auto;\r\n`;\r\nexport const Button = styled.button`\r\n  width: 100%;\r\n  /* height: 52px; */\r\n  color: white;\r\n  background-color: #065f46;\r\n  border: none;\r\n  /* border-radius: 10px; */\r\n  font-size: 2.5rem;\r\n  transition: all 300ms;\r\n  padding: 1.2rem 2.4rem;\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  position: relative;\r\n  font-size: 4.2rem;\r\n  color: #212529;\r\n  margin: 4rem 0 10rem 0;\r\n`;\r\n\r\nexport const CenterText = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nexport const FlashMessage = styled.p`\r\n  position: absolute;\r\n  font-size: 1.8rem;\r\n  color: #064e3b;\r\n  top: 0;\r\n  right: 50%;\r\n  background-color: #d1fae5;\r\n  padding: 1.2rem;\r\n  border-radius: 1rem;\r\n  transform: translate(50%, 6.5rem);\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  Container,\r\n  AttractionCard,\r\n  AttractionImg,\r\n  CardContent,\r\n  CenterButton,\r\n  Button,\r\n  CenterText,\r\n  Title,\r\n  FlashMessage,\r\n} from \"../styledComponents/attractionsList\";\r\n\r\nimport {\r\n  getAttractions,\r\n  getAllAttractions,\r\n  getAttractionCount,\r\n} from \"../../actions\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\n\r\nclass AttractionsList extends React.Component {\r\n  state = {\r\n    buttonVisibilty: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getAttractions();\r\n    this.props.getAttractionCount();\r\n  }\r\n\r\n  renderAttractions = () => {\r\n    if (!this.props.attractions) return \"\";\r\n    return (\r\n      <Container>\r\n        {this.props.attractions.map(({ name, description, _id, images }) => {\r\n          return (\r\n            <AttractionCard key={_id}>\r\n              <Link className=\"link\" to={`/attractions/${_id}`}>\r\n                <AttractionImg src={images[0].url} alt=\"pic\" />\r\n                <CardContent>\r\n                  {<p className=\"name\">{name}</p>}\r\n                  <p className=\"subtitle\">{description.substring(0, 101)}...</p>\r\n                </CardContent>\r\n              </Link>\r\n            </AttractionCard>\r\n          );\r\n        })}\r\n      </Container>\r\n    );\r\n  };\r\n\r\n  renderGetAllButton = () => {\r\n    if (\r\n      !this.props.attractions ||\r\n      this.props.count <= 8 ||\r\n      this.props.attractions.length > 8\r\n    )\r\n      return \"\";\r\n    return (\r\n      <Button\r\n        style={{ visibility: this.state.buttonVisibilty }}\r\n        onClick={() => {\r\n          this.props.getAllAttractions();\r\n          this.setState({ buttonVisibilty: \"hidden\" });\r\n        }}\r\n      >\r\n        See All {this.props.count} Attractions\r\n      </Button>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <MainContainer>\r\n        <CenterText>\r\n          <Title>\r\n            All the places in London\r\n            {this.props.flashMessage && (\r\n              <FlashMessage>{this.props.flashMessage}</FlashMessage>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n        {this.renderAttractions()}\r\n        <br />\r\n        <CenterButton>{this.renderGetAllButton()}</CenterButton>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractions, attractionsCount, flashMessage }) => {\r\n    return {\r\n      attractions: _.values(attractions),\r\n      count: attractionsCount.count,\r\n      flashMessage: flashMessage.data,\r\n    };\r\n  },\r\n  { getAttractions, getAllAttractions, getAttractionCount }\r\n)(AttractionsList);\r\n","import React, { Component } from \"react\";\r\nimport GoogleMapReact from \"google-map-react\";\r\n\r\n\r\n\r\nconst Marker = () => (\r\n  <div>\r\n    <img alt=\"marker\" src=\"/marker.png\" height=\"25px\" width=\"25px\" />\r\n  </div>\r\n);\r\nclass Map extends Component {\r\n  render() {\r\n    if (!this.props.geocode) return \"\";\r\n\r\n    return (\r\n      <div style={{ height: \"400px\", width: \"400px\" }}>\r\n        <GoogleMapReact\r\n          bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_MAPS_API_KEY }}\r\n          defaultCenter={this.props.geocode}\r\n          defaultZoom={11}\r\n        >\r\n          <Marker\r\n            lat={this.props.geocode.lat}\r\n            lng={this.props.geocode.lng}\r\n            \r\n          />\r\n        </GoogleMapReact>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import styled from \"styled-components\";\r\nimport {\r\n  IoFlagSharp,\r\n  IoStarSharp,\r\n  IoListSharp,\r\n  IoArrowBackSharp,\r\n  IoArrowForwardSharp,\r\n  IoHappySharp,\r\n} from \"react-icons/io5\";\r\n\r\nexport const Header = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr;\r\n  row-gap: 4.8rem;\r\n  margin-top: 3.2rem;\r\n  margin-bottom: 4.8rem;\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  font-size: 4.8rem;\r\n  color: #065f46;\r\n  position: relative;\r\n  .location {\r\n    font-size: 2rem;\r\n    margin-top: 1rem;\r\n    margin-bottom: 1.6rem;\r\n  }\r\n`;\r\n\r\nexport const Btn = styled.button`\r\n  padding: 1.2rem;\r\n  border: none;\r\n  background-color: white;\r\n  color: #065f46;\r\n  .number {\r\n    font-size: 1.8rem;\r\n  }\r\n\r\n  .text {\r\n    font-size: 1.6rem;\r\n  }\r\n`;\r\n\r\nexport const Flag = styled(IoFlagSharp)`\r\n  color: #065f46;\r\n  font-size: 2rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const Star = styled(IoStarSharp)`\r\n  color: #065f46;\r\n  font-size: 2rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const List = styled(IoListSharp)`\r\n  color: #065f46;\r\n  font-size: 2rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const ImgsWrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nexport const ImgsContainer = styled.div`\r\n  display: flex;\r\n  overflow: hidden;\r\n  gap: 1rem;\r\n  margin-bottom: 5rem;\r\n  position: relative;\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  height: 40rem;\r\n  width: auto;\r\n`;\r\n\r\nexport const LeftBtn = styled(IoArrowBackSharp)`\r\n  position: absolute;\r\n  left: -7rem;\r\n  top: 50%;\r\n  z-index: 10;\r\n  cursor: pointer;\r\n  font-size: 5rem;\r\n  transform: translate(0, -50%);\r\n  color: #065f46;\r\n\r\n  @media (max-width: 768px) {\r\n  font-size: 3rem;\r\n  left: -4rem;\r\n  }\r\n`;\r\n\r\nexport const RightBtn = styled(IoArrowForwardSharp)`\r\n  position: absolute;\r\n  right: -7rem;\r\n  top: 50%;\r\n  z-index: 10;\r\n  font-size: 5rem;\r\n  transform: translate(0, -50%);\r\n  cursor: pointer;\r\n  color: #065f46;\r\n\r\n  @media (max-width: 768px) {\r\n  font-size: 3rem;\r\n    right: -4rem\r\n  }\r\n`;\r\n\r\nexport const BodyContainer = styled.div`\r\n  background-color: #ecfdf5;\r\n`;\r\n\r\nexport const SmallContainer = styled.div`\r\n  width: 80%;\r\n  display: grid;\r\n  grid-template-columns: 2.5fr 1fr;\r\n  column-gap: 3rem;\r\n  padding: 6.4rem;\r\n  margin: 0 auto;\r\n\r\n  @media (max-width: 1024px) {\r\n    grid-template-columns: 1fr;\r\n    justify-items: center;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const Description = styled.p`\r\n  font-size: 2rem;\r\n  font-family: \"IBM Plex Serif\";\r\n  line-height: 1.5;\r\n  color: #111827;\r\n  margin-bottom: 4.8rem;\r\n  /* word-break: break-all; */\r\n  @media (max-width: 1024px) {\r\n    font-size: 1.8rem;\r\n  }\r\n`;\r\n\r\n\r\nexport const AddReview = styled.div`\r\n  width: 60%;\r\n  grid-column: 1 / -1;\r\n  margin-bottom: 4.8rem;\r\n  margin-top: 2.5rem;\r\n  @media (max-width: 1024px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const TextArea = styled.textarea`\r\n  background-color: #f9fafb;\r\n  width: 100%;\r\n  display: block;\r\n  margin-bottom: 1.2rem;\r\n  border: none;\r\n  padding: 1.2rem;\r\n  outline: none;\r\n  border: ${({ error }) => (error ? \"1px solid red\" : \"none\")};\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px #065f46;\r\n  }\r\n`;\r\n\r\nexport const ReviewButton = styled.button`\r\n  width: 100%;\r\n  padding: 1.2rem;\r\n  border: none;\r\n  background-color: #065f46;\r\n  color: #fff;\r\n  transition: all 0.3s;\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\nexport const Stars = styled.div`\r\n  margin: 1.2rem 0;\r\n`;\r\n\r\nexport const Face = styled(IoHappySharp)`\r\n  color: #065f46;\r\n  font-size: 4.8rem;\r\n`;\r\n\r\nexport const Author = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  align-items: center;\r\n  .name {\r\n    font-weight: bold;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nexport const DeleteButton = styled.button`\r\n  margin-left: 1rem;\r\n  border: none;\r\n  background-color: #065f46;\r\n  padding: 0.8rem 1.6rem;\r\n  color: white;\r\n`;\r\n\r\nexport const Reviews = styled.div`\r\n  width: 60%;\r\n\r\n  .title {\r\n    font-size: 4rem;\r\n    margin-bottom: 2.5rem;\r\n  }\r\n\r\n  @media (max-width: 1024px) {\r\n    width: 100%;\r\n  }\r\n  \r\n`;\r\nexport const Review = styled.div`\r\n  margin-bottom: 4.8rem;\r\n  .content {\r\n    font-size: 2rem;\r\n    line-height: 1.3;\r\n  }\r\n`;\r\n\r\nexport const Delete = styled.button`\r\n  background-color: #f87171;\r\n  border: none;\r\n  padding: 0.8rem 1.6rem;\r\n  color: black;\r\n`;\r\n\r\nexport const Edit = styled.button`\r\n  background-color: #fde68a;\r\n  border: none;\r\n  padding: 0.8rem 1.6rem;\r\n  margin-right: 2rem;\r\n  .link {\r\n    text-decoration: none;\r\n    color: black;\r\n  }\r\n`;\r\n\r\nexport const Label = styled.p`\r\n  font-size: 2.5rem;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const LoginButton = styled.button`\r\n  padding: 1.2rem;\r\n  border: none;\r\n  background-color: #065f46;\r\n  transition: all 0.3s;\r\n  margin-right: 3rem;\r\n  margin-left: 1rem;\r\n  .link {\r\n    color: #fff;\r\n    text-decoration: none;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\n\r\nexport const RegisterButton = styled.button`\r\n  padding: 1.2rem;\r\n  border: none;\r\n  background-color: #d1fae5;\r\n  transition: all 0.3s;\r\n\r\n  .link {\r\n    color: #064e3b;\r\n    text-decoration: none;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: #a7f3d0;\r\n  }\r\n`;\r\n\r\nexport const FlashMessage = styled.p`\r\n  position: absolute;\r\n  font-size: 1.8rem;\r\n  color: #064e3b;\r\n  top: -25px;\r\n  left: 50%;\r\n  background-color: #d1fae5;\r\n  padding: 1rem;\r\n  border-radius: 1rem;\r\n`;\r\n\r\nexport const Rating = styled.div`\r\n  margin: 0;\r\n  margin-bottom: 1.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n`;\r\n\r\nexport const RatingsNumber = styled.p`\r\n  color: #064e3b;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n`;\r\n","import Joi from \"joi\";\r\n\r\nconst schema = Joi.object({\r\n  content: Joi.string().required(),\r\n});\r\n\r\nexport default schema;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Map from \"../Map\";\r\nimport StarRatings from \"react-star-ratings\";\r\n\r\nimport {\r\n  getAttraction,\r\n  addAttractionReview,\r\n  deleteAttrationReview,\r\n  addToWantToVisit,\r\n  addToBeenThere,\r\n  addToList,\r\n  deleteAttraction,\r\n  getUserAttractions,\r\n  removeFromList,\r\n} from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  AddReview,\r\n  Author,\r\n  BodyContainer,\r\n  Btn,\r\n  Delete,\r\n  DeleteButton,\r\n  Description,\r\n  Edit,\r\n  Face,\r\n  Flag,\r\n  FlashMessage,\r\n  Header,\r\n  Img,\r\n  ImgsContainer,\r\n  ImgsWrapper,\r\n  Label,\r\n  LeftBtn,\r\n  List,\r\n  LoginButton,\r\n  Rating,\r\n  RatingsNumber,\r\n  RegisterButton,\r\n  Review,\r\n  ReviewButton,\r\n  Reviews,\r\n  RightBtn,\r\n  SmallContainer,\r\n  Star,\r\n  Stars,\r\n  TextArea,\r\n  Title,\r\n} from \"../styledComponents/attractionDetails\";\r\nimport validateReview from \"../../validation/validateReview\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport history from \"../../history\";\r\nimport { Error } from \"../styledComponents/authPage\";\r\n\r\nclass AttractionDetails extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      review: \"\",\r\n      stars: 0,\r\n      reviewError: \"\",\r\n    };\r\n    this.imgsContainer = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getAttraction(this.props.match.params.id);\r\n    if (this.props.user.loggedIn) this.props.getUserAttractions();\r\n  }\r\n\r\n  renderReviews = () => {\r\n    if (this.props.attraction.reviews.length < 1) return \"\";\r\n\r\n    return (\r\n      <Reviews>\r\n        <h3 className=\"title\">Reviews</h3>\r\n        <ul>\r\n          {this.props.attraction.reviews.map(\r\n            ({ content, _id, stars, author }) => {\r\n              return (\r\n                <Review key={_id}>\r\n                  <Author>\r\n                    <Face />\r\n                    <p className=\"name\">{author.username}</p>\r\n                    {this.props.user.loggedIn &&\r\n                      this.props.user.id === author._id && (\r\n                        <DeleteButton\r\n                          onClick={() => {\r\n                            this.props.deleteAttrationReview({\r\n                              attractionId: this.props.attraction._id,\r\n                              reviewId: _id,\r\n                            });\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </DeleteButton>\r\n                      )}\r\n                  </Author>\r\n\r\n                  <Rating>\r\n                    <StarRatings\r\n                      rating={stars}\r\n                      starDimension=\"16px\"\r\n                      starSpacing=\"5px\"\r\n                      starRatedColor=\"#065f46\"\r\n                    />\r\n                  </Rating>\r\n                  <p className=\"content\">{content}</p>\r\n                </Review>\r\n              );\r\n            }\r\n          )}\r\n        </ul>\r\n      </Reviews>\r\n    );\r\n  };\r\n\r\n  changeRating = (stars) => {\r\n    this.setState({ stars });\r\n  };\r\n\r\n  renderAddReview = () => {\r\n    if (!this.props.user.loggedIn) {\r\n      return (\r\n        <div>\r\n          <Label>Log in or register to leave a review</Label>\r\n\r\n          <LoginButton>\r\n            <Link className=\"link\" to=\"/login\">\r\n              Login\r\n            </Link>\r\n          </LoginButton>\r\n          <RegisterButton>\r\n            <Link className=\"link\" to=\"/register\">\r\n              Register\r\n            </Link>\r\n          </RegisterButton>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let handleSubmitReview = (e) => {\r\n      e.preventDefault();\r\n      let attractionId = this.props.attraction._id;\r\n\r\n      let reviewError = validateReview.validate({\r\n        content: this.state.review,\r\n      }).error;\r\n\r\n      if (!reviewError) {\r\n        this.props.addAttractionReview({\r\n          attractionId,\r\n          content: this.state.review,\r\n          stars: this.state.stars,\r\n        });\r\n        this.setState({ review: \"\", stars: 0 });\r\n        this.setState({ reviewError: \"\" });\r\n      } else {\r\n        this.setState({ reviewError: reviewError.details[0].message });\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <form onSubmit={handleSubmitReview} method=\"post\">\r\n          <div>\r\n            <Label>How was your experience?</Label>\r\n\r\n            <Stars>\r\n              <StarRatings\r\n                rating={this.state.stars}\r\n                starRatedColor=\" #065f46\"\r\n                changeRating={this.changeRating}\r\n                numberOfStars={5}\r\n                name=\"rating\"\r\n                starHoverColor=\" #065f46\"\r\n                starDimension=\"32px\"\r\n              />\r\n            </Stars>\r\n          </div>\r\n          <TextArea\r\n            className=\"text-area\"\r\n            value={this.state.review}\r\n            error={this.state.reviewError}\r\n            onChange={(e) => {\r\n              this.setState({ review: e.target.value });\r\n            }}\r\n            name=\"review\"\r\n            id=\"review\"\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n          ></TextArea>\r\n          <Error>{this.state.reviewError}</Error>\r\n          <ReviewButton type=\"submit\">Add Review</ReviewButton>\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderDeleteButton = () => {\r\n    if (\r\n      !this.props.user ||\r\n      this.props.user.id !== this.props.attraction.addedBy\r\n    )\r\n      return \"\";\r\n    return (\r\n      <Delete\r\n        variant=\"danger\"\r\n        onClick={() => {\r\n          this.props.deleteAttraction(this.props.attraction._id);\r\n        }}\r\n      >\r\n        Delete\r\n      </Delete>\r\n    );\r\n  };\r\n\r\n  renderEditButton = () => {\r\n    if (\r\n      !this.props.user.loggedIn ||\r\n      this.props.user.id !== this.props.attraction.addedBy\r\n    )\r\n      return \"\";\r\n    return (\r\n      <Edit variant=\"warning\">\r\n        <Link\r\n          className=\"link\"\r\n          to={`/attractions/${this.props.attraction._id}/edit`}\r\n        >\r\n          Edit\r\n        </Link>\r\n      </Edit>\r\n    );\r\n  };\r\n\r\n  isOnList = () => {\r\n    if (\r\n      this.props.user.list &&\r\n      this.props.user.list.some(\r\n        (attraction) => attraction._id === this.props.attraction._id\r\n      )\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  renderAddToListButton = (_id) => {\r\n    if (!this.props.user.loggedIn) {\r\n      return (\r\n        <Btn\r\n          onClick={() => {\r\n            this.props.addToList(_id);\r\n          }}\r\n        >\r\n          <List />\r\n          <p>Add to List</p>\r\n        </Btn>\r\n      );\r\n    } else {\r\n      if (this.isOnList()) {\r\n        return (\r\n          <Btn\r\n            onClick={() => {\r\n              this.props.removeFromList(_id);\r\n            }}\r\n          >\r\n            <List />\r\n            <p className=\"text\">Remove </p>\r\n          </Btn>\r\n        );\r\n      } else {\r\n        return (\r\n          <Btn\r\n            onClick={() => {\r\n              this.props.addToList(_id);\r\n            }}\r\n          >\r\n            <List />\r\n            <p className=\"text\">Add to List</p>\r\n          </Btn>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  renderButtons = (_id) => {\r\n    let { visited, wantToVisit } = this.props.attraction;\r\n    return (\r\n      <div\r\n        onClick={() => {\r\n          if (!this.props.user.loggedIn) history.push(\"/login\");\r\n        }}\r\n      >\r\n        <Btn\r\n          onClick={() => {\r\n            this.props.addToWantToVisit(_id);\r\n          }}\r\n        >\r\n          <Star />\r\n          <p className=\"text\">Want to Vist</p>\r\n          <p className=\"number\">{wantToVisit}</p>\r\n        </Btn>\r\n        <Btn\r\n          onClick={() => {\r\n            this.props.addToBeenThere(_id);\r\n          }}\r\n        >\r\n          <Flag />\r\n          <p className=\"text\">Been There</p>\r\n          <p className=\"number\">{visited}</p>\r\n        </Btn>\r\n\r\n        {this.renderAddToListButton(_id)}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderImages = (images) => {\r\n    if (images.length > 0) {\r\n      return images.map(({ url, public_id }, i) => {\r\n        return <Img key={public_id} src={url} alt={public_id} />;\r\n      });\r\n    }\r\n\r\n    return \"\";\r\n  };\r\n  sideScroll = (element, speed, distance, step) => {\r\n    let scrollAmount = 0;\r\n    const slideTimer = setInterval(() => {\r\n      element.scrollLeft += step;\r\n      scrollAmount += Math.abs(step);\r\n      if (scrollAmount >= distance) {\r\n        clearInterval(slideTimer);\r\n      }\r\n    }, speed);\r\n  };\r\n\r\n  renderScroll = (container) => {\r\n    if (!container || container.clientWidth >= container.scrollWidth)\r\n      return false;\r\n\r\n    return true;\r\n  };\r\n\r\n  renderAttraction = () => {\r\n    if (this.props.attraction) {\r\n      let {\r\n        name,\r\n        description,\r\n        images,\r\n        location,\r\n        _id,\r\n        geocode,\r\n        averageRating,\r\n        reviews,\r\n      } = this.props.attraction;\r\n      return (\r\n        <div>\r\n          <MainContainer>\r\n            <Header>\r\n              <div>\r\n                <Title>\r\n                  {name} <p className=\"location\">{location}</p>\r\n                  {this.props.flashMessage && (\r\n                    <FlashMessage>{this.props.flashMessage}</FlashMessage>\r\n                  )}\r\n                </Title>\r\n                <Rating>\r\n                  <StarRatings\r\n                    rating={averageRating}\r\n                    starDimension=\"1.8rem\"\r\n                    starSpacing=\"2px\"\r\n                    starRatedColor=\"#065f46\"\r\n                  />\r\n                  <RatingsNumber>\r\n                    {reviews.length}{\" \"}\r\n                    {`${\r\n                      reviews.length > 1 || reviews.length === 0\r\n                        ? \"ratings\"\r\n                        : \"rating\"\r\n                    }`}\r\n                  </RatingsNumber>\r\n                </Rating>\r\n                {this.renderEditButton(_id)}\r\n                {this.renderDeleteButton()}\r\n              </div>\r\n\r\n              <div>{this.renderButtons(_id)}</div>\r\n            </Header>\r\n\r\n            <ImgsWrapper>\r\n              {this.renderScroll(this.imgsContainer.current) && (\r\n                <LeftBtn\r\n                  onClick={() => {\r\n                    this.sideScroll(this.imgsContainer.current, 7, 300, -10);\r\n                  }}\r\n                ></LeftBtn>\r\n              )}\r\n\r\n              {this.renderScroll(this.imgsContainer.current) && (\r\n                <RightBtn\r\n                  onClick={() => {\r\n                    this.sideScroll(this.imgsContainer.current, 7, 300, 10);\r\n                  }}\r\n                ></RightBtn>\r\n              )}\r\n              <ImgsContainer ref={this.imgsContainer}>\r\n                {this.renderImages(images)}\r\n              </ImgsContainer>\r\n            </ImgsWrapper>\r\n          </MainContainer>\r\n          <BodyContainer>\r\n            <SmallContainer>\r\n              <Description>{description}</Description>\r\n              <Map geocode={geocode} />\r\n\r\n              <AddReview>{this.renderAddReview()}</AddReview>\r\n              <Reviews>{this.renderReviews()}</Reviews>\r\n            </SmallContainer>\r\n          </BodyContainer>\r\n        </div>\r\n      );\r\n    } else {\r\n      return \"LOADING...\";\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return <div>{this.renderAttraction()}</div>;\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractions, user, flashMessage }, ownProps) => {\r\n    return {\r\n      attraction: attractions[ownProps.match.params.id],\r\n      user,\r\n      flashMessage: flashMessage.data,\r\n    };\r\n  },\r\n  {\r\n    getAttraction,\r\n    addAttractionReview,\r\n    deleteAttrationReview,\r\n    addToWantToVisit,\r\n    addToBeenThere,\r\n    addToList,\r\n    deleteAttraction,\r\n    getUserAttractions,\r\n    removeFromList,\r\n  }\r\n)(AttractionDetails);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getUserAttractions } from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport history from \"../../history\";\r\n\r\nimport {\r\n  Container as ListWrapper,\r\n  AttractionCard,\r\n  AttractionImg,\r\n  CardContent,\r\n  Title,\r\n} from \"../styledComponents/attractionsList\";\r\n\r\nclass MyAttractions extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUserAttractions();\r\n  }\r\n\r\n  renderAttractions = (attractions) => {\r\n    if (!attractions || attractions.length === 0) {\r\n      return <p style={{fontSize:'25px'}}>Nothing yet</p>;\r\n    }\r\n    return (\r\n      <ListWrapper>\r\n        {attractions.map(({ name, description, _id, images }) => {\r\n          return (\r\n            <AttractionCard key={_id}>\r\n              <Link className=\"link\" to={`/attractions/${_id}`}>\r\n                <AttractionImg src={images[0].url} alt=\"pic\" />\r\n                <CardContent>\r\n                  {<p className=\"name\">{name}</p>}\r\n                  <p className=\"subtitle\">{description.substring(0, 101)}...</p>\r\n                </CardContent>\r\n              </Link>\r\n            </AttractionCard>\r\n          );\r\n        })}\r\n      </ListWrapper>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.user.loggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n\r\n    return (\r\n      <MainContainer>\r\n        <Title>Places Where You Want To Go</Title>\r\n        {this.renderAttractions(this.props.user.wantToVisit)}\r\n        <Title>Places Where You've been</Title>\r\n        {this.renderAttractions(this.props.user.beenThere)}\r\n        <Title>Your List </Title>\r\n        {this.renderAttractions(this.props.user.list)}\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ user }) => {\r\n    return { user };\r\n  },\r\n  { getUserAttractions }\r\n)(MyAttractions);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Input = styled.input`\r\n  width: 50rem;\r\n  height: 6rem;\r\n  margin: 5rem auto;\r\n  padding: 1.2rem;\r\n  display: flex;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\r\n\r\n  border: none;\r\n  outline: none;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px #065f46;\r\n  }\r\n  &::placeholder {\r\n    font-weight: 400;\r\n    color: #065f46;\r\n  }\r\n\r\n  @media (max-width: 1024px) {\r\n    width: 40rem;\r\n  }\r\n  \r\n \r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  margin-top: 2.5rem;\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { searchAttractions } from \"../../actions\";\r\nimport {\r\n  Container as ResultsWrapper,\r\n  AttractionCard,\r\n  AttractionImg,\r\n  CardContent,\r\n  CenterText,\r\n} from \"../styledComponents/attractionsList\";\r\n\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport { Input, Title } from \"../styledComponents/search\";\r\n\r\nclass Search extends React.Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  onQueryChange = (e) => {\r\n    this.setState({ query: e.target.value });\r\n    _.debounce(() => {\r\n      this.props.searchAttractions(this.state.query);\r\n    }, 300)();\r\n  };\r\n\r\n  renderAttractions = () => {\r\n    if (!this.props.attractions) return \"\";\r\n    return (\r\n      <ResultsWrapper>\r\n        {this.props.attractions.map(({ name, description, _id, images }) => {\r\n          return (\r\n            <AttractionCard key={_id}>\r\n              <Link className=\"link\" to={`/attractions/${_id}`}>\r\n                <AttractionImg src={images[0].url} alt=\"pic\" />\r\n                <CardContent>\r\n                  {<p className=\"name\">{name}</p>}\r\n                  <p className=\"subtitle\">{description.substring(0, 101)}...</p>\r\n                </CardContent>\r\n              </Link>\r\n            </AttractionCard>\r\n          );\r\n        })}\r\n      </ResultsWrapper>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <MainContainer>\r\n        <CenterText>\r\n          <Title>Search</Title>\r\n        </CenterText>\r\n\r\n        <Input\r\n          onChange={this.onQueryChange}\r\n          value={this.state.query}\r\n          type=\"text\"\r\n          placeholder=\"Search for destinations\"\r\n        />\r\n        <div>{this.renderAttractions()}</div>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractionsSearchResults }) => {\r\n    return { attractions: _.values(attractionsSearchResults) };\r\n  },\r\n  { searchAttractions }\r\n)(Search);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { editAttraction, getAttraction, getAdresses } from \"../../actions\";\r\nimport history from \"../../history\";\r\nimport {\r\n  validateName,\r\n  validateDescription,\r\n  validateLocation,\r\n} from \"../../validation/validateAttration\";\r\nimport {\r\n  Input,\r\n  Label,\r\n  Container,\r\n  Button,\r\n  TextArea,\r\n  Select,\r\n  CenterText,\r\n  Title,\r\n  FlashMessage,\r\n} from \"../styledComponents/createAttraction\";\r\nimport { Error } from \"../styledComponents/authPage\";\r\nimport { LoadingRing } from \"../styledComponents/general\";\r\n\r\nclass Edit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: null,\r\n      description: null,\r\n      location: null,\r\n      images: null,\r\n      deleteImages: [],\r\n      term: \"\",\r\n      nameError: \"\",\r\n      descriptionError: \"\",\r\n      locationError: \"\",\r\n      imagesError: \"\",\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (prevState.name == null && nextProps.attraction) {\r\n      let { name, description, location } = nextProps.attraction;\r\n      return { name, description, location, term: location };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.props.getAttraction(this.props.match.params.id);\r\n  };\r\n  onTermChange = (e) => {\r\n    this.setState({ term: e.target.value });\r\n\r\n    _.debounce(() => {\r\n      this.props.getAdresses(this.state.term);\r\n      console.log(this.props.addresses);\r\n      if (this.props.addresses.length === 0) {\r\n        this.setState({ locationError: \"It must be a valid UK address\" });\r\n      } else {\r\n        this.setState({ locationError: \"\" });\r\n      }\r\n    }, 400)();\r\n  };\r\n\r\n  onNameChange = (e) => {\r\n    this.setState({ name: e.target.value });\r\n  };\r\n\r\n  onDescriptionChange = (e) => {\r\n    this.setState({ description: e.target.value });\r\n  };\r\n\r\n  onLocationChange = (e) => {\r\n    this.setState({ location: e.target.value });\r\n  };\r\n\r\n  onImageChange = (e) => {\r\n    this.setState({ images: e.target.files });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let { _id } = this.props.attraction;\r\n\r\n    let nameError = this.state.nameError;\r\n    let locationError = this.state.locationError;\r\n    let descriptionError = this.state.descriptionError;\r\n\r\n    if (!nameError && !descriptionError && !locationError) {\r\n      if (\r\n        this.state.deleteImages.length ===\r\n          this.props.attraction.images.length &&\r\n        !this.state.images\r\n      ) {\r\n        this.setState({ imagesError: \"You must upload at least one image\" });\r\n      } else {\r\n        this.props.editAttraction({ ...this.state, _id });\r\n        this.setState({ loading: true });\r\n      }\r\n    }\r\n  };\r\n\r\n  renderImages = (images) => {\r\n    if (images) {\r\n      return images.map((image) => {\r\n        return (\r\n          <img\r\n            onClick={() => {\r\n              let deleteImages = [...this.state.deleteImages];\r\n              let index = deleteImages.indexOf(image.public_id);\r\n              if (index < 0) {\r\n                deleteImages.push(image.public_id);\r\n                this.setState({ deleteImages });\r\n              } else {\r\n                deleteImages.splice(index, 1);\r\n                this.setState({ deleteImages });\r\n              }\r\n            }}\r\n            key={image.public_id}\r\n            src={image.url}\r\n            alt={image.public_id}\r\n            style={{\r\n              width: \"150px\",\r\n              height: \"auto\",\r\n              marginRight: \"10px\",\r\n              marginBottom: \"30px\",\r\n              opacity: `${\r\n                this.state.deleteImages.indexOf(image.public_id) < 0\r\n                  ? \"\"\r\n                  : \"0.3\"\r\n              }`,\r\n            }}\r\n          />\r\n        );\r\n      });\r\n    }\r\n\r\n    return \"\";\r\n  };\r\n\r\n  renderAdressDropdown = () => {\r\n    return (\r\n      <Select onClick={this.onLocationChange}>\r\n        {this.props.addresses.map(({ address }, i) => {\r\n          return (\r\n            <option key={i} value={address}>\r\n              {address}\r\n            </option>\r\n          );\r\n        })}\r\n      </Select>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.user.loggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n\r\n    if (!this.props.attraction) return \"loading...\";\r\n\r\n    return (\r\n      <div>\r\n        <CenterText>\r\n          <Title>\r\n            Edit Attraction\r\n            {this.props.message && (\r\n              <FlashMessage>{this.props.message}</FlashMessage>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n        <Container style={{ width: \"50%\", marginBottom: \"50px\" }}>\r\n          <form onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\r\n            <div>\r\n              <Label style={{ marginBottom: \"20px\" }}>\r\n                Select To Delete Images:\r\n              </Label>\r\n              <div>\r\n                {this.props.attraction &&\r\n                  this.renderImages(this.props.attraction.images)}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"name\">Name</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                onChange={this.onNameChange}\r\n                value={this.state.name}\r\n                error={this.state.nameError}\r\n                onBlur={(e) => {\r\n                  let nameError = validateName.validate({\r\n                    name: e.target.value,\r\n                  }).error;\r\n                  if (nameError) {\r\n                    this.setState({\r\n                      nameError: nameError.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ nameError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.nameError}</Error>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <TextArea\r\n                name=\"description\"\r\n                onChange={this.onDescriptionChange}\r\n                value={this.state.description}\r\n                error={this.state.descriptionError}\r\n                onBlur={(e) => {\r\n                  let descriptionError = validateDescription.validate({\r\n                    description: e.target.value,\r\n                  }).error;\r\n                  if (descriptionError) {\r\n                    this.setState({\r\n                      descriptionError: descriptionError.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ descriptionError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.descriptionError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"location\">Address</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"location\"\r\n                onChange={this.onTermChange}\r\n                value={this.state.term}\r\n                error={this.state.locationError}\r\n                onBlur={(e) => {\r\n                  let locationError = validateLocation.validate({\r\n                    location: e.target.value,\r\n                  }).error;\r\n                  if (locationError) {\r\n                    this.setState({\r\n                      locationError: locationError.details[0].message,\r\n                    });\r\n                  } else if (this.props.addresses.length !== 0) {\r\n                    this.setState({ locationError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.locationError}</Error>\r\n            </div>\r\n            {this.props.addresses.length > 0 && this.renderAdressDropdown()}\r\n\r\n            <div>\r\n              <Label htmlFor=\"image\">Upload images</Label>\r\n              <Input\r\n                style={{ backgroundColor: \"white\" }}\r\n                onChange={this.onImageChange}\r\n                type=\"file\"\r\n                name=\"images\"\r\n                multiple\r\n              />\r\n              <Error>{this.state.imagesError}</Error>\r\n            </div>\r\n            <Button type=\"submit\">\r\n              {this.state.loading && <LoadingRing />}Edit Attraction\r\n            </Button>\r\n          </form>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractions, user, addresses, flashMessage }, ownProps) => {\r\n    return {\r\n      attraction: attractions[ownProps.match.params.id],\r\n      user,\r\n      addresses,\r\n      message: flashMessage.data,\r\n    };\r\n  },\r\n  { getAttraction, editAttraction, getAdresses }\r\n)(Edit);\r\n","import React, { Component, useState } from \"react\";\r\nimport GoogleMapReact from \"google-map-react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { getAllAttractions } from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport {\r\n  AttractionCard,\r\n  AttractionImg,\r\n  CardContent,\r\n} from \"../styledComponents/attractionsList\";\r\n\r\nconst Marker = ({ attraction }) => {\r\n  const [isShown, setIsShown] = useState(false);\r\n  const [zIndex, setZIndex] = useState(0);\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        transform: \"translate(-50%, -40%) scale(0.8)\",\r\n        zIndex,\r\n      }}\r\n      onMouseOver={() => {\r\n        setIsShown(true);\r\n        setZIndex(10);\r\n      }}\r\n      onMouseLeave={() => {\r\n        setIsShown(false);\r\n        setZIndex(0);\r\n      }}\r\n    >\r\n      {isShown && (\r\n        <AttractionCard key={attraction._id}>\r\n          <Link className=\"link\" to={`/attractions/${attraction._id}`}>\r\n            <AttractionImg src={attraction.images[0].url} alt=\"pic\" />\r\n            <CardContent>\r\n              {<p className=\"name\">{attraction.name}</p>}\r\n              <p className=\"subtitle\">\r\n                {attraction.description.substring(0, 101)}...\r\n              </p>\r\n            </CardContent>\r\n          </Link>\r\n        </AttractionCard>\r\n      )}\r\n      {!isShown && (\r\n        <img alt=\"marker\" src=\"/marker.png\" height=\"30px\" width=\"30px\" />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nclass AttractionsMap extends Component {\r\n  componentDidMount() {\r\n    this.props.getAllAttractions();\r\n  }\r\n\r\n  renderMarkers = () => {\r\n    return this.props.attractions.map((attraction) => {\r\n      let { geocode, _id } = attraction;\r\n      return (\r\n        <Marker\r\n          key={_id}\r\n          lat={geocode.lat}\r\n          lng={geocode.lng}\r\n          attraction={attraction}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <MainContainer>\r\n        <div\r\n          style={{\r\n            height: \"90vh\",\r\n            width: \"100%\",\r\n            marginTop: \"20px\",\r\n            position: \"relative\",\r\n          }}\r\n        >\r\n          <GoogleMapReact\r\n            bootstrapURLKeys={{\r\n              key: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\r\n            }}\r\n            defaultCenter={{ lat: 51.50809, lng: -0.129137 }}\r\n            defaultZoom={11}\r\n          >\r\n            {this.renderMarkers()}\r\n          </GoogleMapReact>\r\n        </div>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractions }) => {\r\n    return { attractions: _.values(attractions) };\r\n  },\r\n  { getAllAttractions }\r\n)(AttractionsMap);\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n   * {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n\r\n}\r\n\r\nhtml {\r\n  font-size: 63.5%;\r\n}\r\nbody {\r\n  /* font-family: 'Inter', Arial, Helvetica, sans-serif; */\r\n  line-height: 1;\r\n  font-weight: 400;\r\n  color: #555;\r\n  font-size: 18px;\r\n  -webkit-user-select: none; /* Safari */\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n  -khtml-user-select: none; /* Konqueror HTML */\r\n  -ms-user-select: none; /* Internet Explorer/Edge */\r\n  -moz-user-select: none; /* Old versions of Firefox */\r\n  user-select: none;\r\n}\r\n`;\r\n\r\n\r\n\r\n\r\nexport default GlobalStyles;\r\n","import React from \"react\";\r\nimport { Router, Switch, Route } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport history from \"../history\";\r\nimport Register from \"./auth/Register\";\r\nimport Login from \"./auth/Login\";\r\nimport Header from \"./Header\";\r\nimport Create from \"./attractions/Create\";\r\nimport AttractionsList from \"./attractions/AttractionsList\";\r\nimport AttractionDetails from \"./attractions/AttractionDetails\";\r\nimport myAttractions from \"./attractions/myAttractions\";\r\nimport Search from \"./attractions/Search\";\r\nimport Edit from \"./attractions/Edit\";\r\nimport { connect } from \"react-redux\";\r\nimport { isLoggedIn } from \"../actions\";\r\nimport AttractionsMap from \"./attractions/AttractionsMap\";\r\nimport GlobalStyles from \"../styles/GlobalStyles\";\r\n\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.isLoggedIn();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router history={history}>\r\n        <GlobalStyles />\r\n        <Header  />\r\n          <Switch>\r\n            <Route exact path=\"/\" component={AttractionsList} />\r\n            <Route exact path=\"/register\" component={Register} />\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/create\" component={Create} />\r\n            <Route exact path=\"/attractions/search\" component={Search} />\r\n            <Route exact path=\"/attractions/map\" component={AttractionsMap} />\r\n            <Route exact path=\"/attractions/:id/edit\" component={Edit} />\r\n            <Route\r\n              exact\r\n              path=\"/attractions/:id\"\r\n              component={AttractionDetails}\r\n            />\r\n            <Route exact path=\"/myattractions\" component={myAttractions} />\r\n            <Route path=\"*\" component={() => <h2>PAGE NOT FOUND</h2>} />\r\n          </Switch>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { isLoggedIn })(App);\r\n","import React from \"react\";\r\n\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\n\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport reducers from \"./reducers\";\r\nimport App from \"./components/App\";\r\nrequire('dotenv').config()\r\n\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n  whitelist: [\"user\"],\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, reducers);\r\n\r\nlet store = createStore(persistedReducer, applyMiddleware(thunk));\r\nlet persistor = persistStore(store);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <PersistGate loading={null} persistor={persistor}>\r\n      <App />\r\n    </PersistGate>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}